<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AIæ•™å­¸å¹³å°ï½œGrok & DeepSeek é›™æ ¸é©…å‹•</title>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  
  <style>
    :root {
      --primary: #9333ea;      /* Grok ç´«è‰² */
      --secondary: #2563eb;    /* DeepSeek è—è‰² */
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #1e293b;
      --muted: #64748b;
      --border: #e2e8f0;
      --shadow: 0 10px 25px rgba(0,0,0,0.05);
      --radius: 12px;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --info: #0ea5e9;
    }
    
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: system-ui, -apple-system, "Segoe UI", "Noto Sans TC", sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    /* æ¨™é¡Œå€ */
    .header {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      padding: 24px 28px;
      border-radius: var(--radius);
      margin-bottom: 24px;
      box-shadow: var(--shadow);
    }
    
    .header h1 {
      font-size: 28px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .header p {
      opacity: 0.9;
      font-size: 15px;
    }
    
    /* ä¸»å°èˆª */
    .main-nav {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }
    
    .nav-btn {
      padding: 12px 20px;
      border: 2px solid var(--border);
      background: white;
      border-radius: var(--radius);
      cursor: pointer;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
      color: var(--text);
    }
    
    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }
    
    .nav-btn.active {
      background: linear-gradient(135deg, rgba(147,51,234,0.1) 0%, rgba(37,99,235,0.1) 100%);
      border-color: var(--primary);
      color: var(--primary);
    }
    
    /* å…§å®¹å€ */
    .content {
      display: none;
    }
    
    .content.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* å¡ç‰‡ */
    .card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 24px;
      margin-bottom: 20px;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
    }
    
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 12px;
      border-bottom: 2px solid var(--border);
    }
    
    .card-header h2 {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 20px;
    }
    
    .badge {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 700;
    }
    
    .badge.grok {
      background: rgba(147,51,234,0.1);
      color: var(--primary);
    }
    
    .badge.deepseek {
      background: rgba(37,99,235,0.1);
      color: var(--secondary);
    }
    
    .badge.success {
      background: rgba(16,185,129,0.1);
      color: var(--success);
    }
    
    /* é›™æ¬„ä½ˆå±€ */
    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    
    @media (max-width: 768px) {
      .grid-2 {
        grid-template-columns: 1fr;
      }
    }
    
    /* è¡¨å–®å…ƒç´  */
    .form-group {
      margin-bottom: 16px;
    }
    
    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text);
    }
    
    .form-control {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid var(--border);
      border-radius: 8px;
      font-size: 15px;
      transition: border-color 0.2s;
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    textarea.form-control {
      min-height: 120px;
      resize: vertical;
      font-family: inherit;
    }
    
    /* æŒ‰éˆ• */
    .btn-group {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
      font-size: 15px;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
    }
    
    .btn-secondary {
      background: var(--secondary);
      color: white;
    }
    
    .btn-success {
      background: var(--success);
      color: white;
    }
    
    .btn-outline {
      background: white;
      color: var(--text);
      border: 2px solid var(--border);
    }
    
    .btn-outline:hover {
      border-color: var(--primary);
      color: var(--primary);
    }
    
    /* API å›æ‡‰å€ */
    .api-response {
      background: #f8fafc;
      border: 2px dashed var(--border);
      border-radius: 8px;
      padding: 16px;
      min-height: 100px;
      margin-top: 16px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      white-space: pre-wrap;
      word-break: break-word;
      max-height: 400px;
      overflow-y: auto;
    }
    
    /* ç‹€æ…‹æŒ‡ç¤ºå™¨ */
    .status {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      border-radius: 8px;
      font-weight: 600;
      margin: 8px 0;
    }
    
    .status-success {
      background: rgba(16,185,129,0.1);
      color: var(--success);
    }
    
    .status-warning {
      background: rgba(245,158,11,0.1);
      color: var(--warning);
    }
    
    .status-info {
      background: rgba(14,165,233,0.1);
      color: var(--info);
    }
    
    .status-error {
      background: rgba(239,68,68,0.1);
      color: var(--danger);
    }
    
    /* æ¨¡å‹é¸æ“‡ */
    .model-selector {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }
    
    .model-card {
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }
    
    .model-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow);
    }
    
    .model-card.active {
      border-color: var(--primary);
      background: linear-gradient(135deg, rgba(147,51,234,0.05) 0%, rgba(37,99,235,0.05) 100%);
    }
    
    .model-icon {
      font-size: 32px;
      margin-bottom: 12px;
      height: 60px;
      width: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 12px;
    }
    
    .grok-icon {
      background: rgba(147,51,234,0.1);
      color: var(--primary);
    }
    
    .deepseek-icon {
      background: rgba(37,99,235,0.1);
      color: var(--secondary);
    }
    
    .model-name {
      font-weight: 700;
      margin-bottom: 8px;
      font-size: 18px;
    }
    
    .model-desc {
      color: var(--muted);
      font-size: 13px;
      line-height: 1.4;
    }
    
    /* æµç¨‹æŒ‡ç¤ºå™¨ */
    .process-flow {
      display: flex;
      justify-content: space-between;
      position: relative;
      margin: 30px 0;
    }
    
    .process-step {
      text-align: center;
      position: relative;
      z-index: 2;
      flex: 1;
    }
    
    .step-number {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      margin: 0 auto 8px;
      border: 3px solid white;
    }
    
    .process-step.active .step-number {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
    }
    
    .step-label {
      font-weight: 600;
      font-size: 14px;
    }
    
    .process-line {
      position: absolute;
      top: 20px;
      left: 50px;
      right: 50px;
      height: 4px;
      background: var(--border);
      z-index: 1;
    }
    
    /* è¼‰å…¥å‹•ç•« */
    .loading {
      display: flex;
      align-items: center;
      gap: 12px;
      color: var(--muted);
    }
    
    .spinner {
      width: 20px;
      height: 20px;
      border: 3px solid var(--border);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* å·¥å…·åˆ— */
    .toolbar {
      display: flex;
      gap: 12px;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    
    /* éŸ¿æ‡‰å¼èª¿æ•´ */
    @media (max-width: 768px) {
      .container {
        padding: 16px;
      }
      
      .header {
        padding: 20px;
      }
      
      .header h1 {
        font-size: 24px;
      }
      
      .nav-btn {
        padding: 10px 16px;
        font-size: 14px;
      }
      
      .card {
        padding: 20px;
      }
      
      .btn {
        padding: 10px 20px;
        font-size: 14px;
      }
      
      .process-flow {
        flex-wrap: wrap;
      }
      
      .process-step {
        flex: 0 0 calc(33.333% - 10px);
        margin-bottom: 20px;
      }
    }
    
    /* æ¨ç†æ¨¡å¼é–‹é—œ */
    .reasoning-toggle {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px;
      background: rgba(147,51,234,0.05);
      border-radius: 8px;
      border: 2px solid rgba(147,51,234,0.1);
      margin: 16px 0;
    }
    
    .reasoning-toggle input {
      width: 20px;
      height: 20px;
      accent-color: var(--primary);
    }
    
    /* æ¸¬è©¦çµæœé¡¯ç¤º */
    .test-results {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 16px;
      margin-top: 20px;
    }
    
    .test-card {
      background: white;
      border-radius: 8px;
      padding: 16px;
      text-align: center;
      border: 1px solid var(--border);
    }
    
    .test-icon {
      font-size: 24px;
      margin-bottom: 8px;
    }
    
    .test-label {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 4px;
    }
    
    .test-value {
      font-weight: 700;
      font-size: 18px;
    }
    
    /* æ•™å­¸æ¨¡æ¿ */
    .templates-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }
    
    .template-card {
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .template-card:hover {
      border-color: var(--primary);
      transform: translateY(-3px);
    }
    
    .template-icon {
      font-size: 24px;
      color: var(--primary);
      margin-bottom: 12px;
    }
    
    .template-title {
      font-weight: 700;
      margin-bottom: 8px;
    }
    
    .template-desc {
      color: var(--muted);
      font-size: 13px;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- æ¨™é¡Œå€ -->
    <div class="header">
      <h1><i class="fas fa-robot"></i> AIæ•™å­¸å¹³å°ï½œGrok & DeepSeek é›™æ ¸é©…å‹•</h1>
      <p>å°ˆæ³¨æ–¼ Grok æ¨ç†æ¨¡å¼èˆ‡ DeepSeek å…è²»APIçš„æ•™å­¸æ•´åˆå¹³å°</p>
    </div>
    
    <!-- ä¸»å°èˆª -->
    <div class="main-nav">
      <button class="nav-btn active" data-tab="home">
        <i class="fas fa-home"></i> é¦–é 
      </button>
      <button class="nav-btn" data-tab="api">
        <i class="fas fa-robot"></i> AIäº’å‹•
      </button>
      <button class="nav-btn" data-tab="test">
        <i class="fas fa-vial"></i> APIæ¸¬è©¦
      </button>
      <button class="nav-btn" data-tab="ipo">
        <i class="fas fa-sitemap"></i> IPOåˆ†æ
      </button>
      <button class="nav-btn" data-tab="code">
        <i class="fas fa-code"></i> ç¨‹å¼ç”Ÿæˆ
      </button>
      <button class="nav-btn" data-tab="teach">
        <i class="fas fa-chalkboard-teacher"></i> æ•™å­¸æ‡‰ç”¨
      </button>
    </div>
    
    <!-- é¦–é  -->
    <div id="home" class="content active">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-rocket"></i> å¿«é€Ÿé–‹å§‹</h2>
          <span class="badge success">æ•™å­¸å°ˆç”¨</span>
        </div>
        
        <!-- æµç¨‹æŒ‡ç¤ºå™¨ -->
        <div class="process-flow">
          <div class="process-line"></div>
          <div class="process-step active">
            <div class="step-number">1</div>
            <div class="step-label">é¸æ“‡æ¨¡å‹</div>
          </div>
          <div class="process-step">
            <div class="step-number">2</div>
            <div class="step-label">APIäº’å‹•</div>
          </div>
          <div class="process-step">
            <div class="step-number">3</div>
            <div class="step-label">IPOåˆ†æ</div>
          </div>
          <div class="process-step">
            <div class="step-number">4</div>
            <div class="step-label">ç¨‹å¼ç”Ÿæˆ</div>
          </div>
          <div class="process-step">
            <div class="step-number">5</div>
            <div class="step-label">æ•™å­¸æ‡‰ç”¨</div>
          </div>
        </div>
        
        <!-- é›™æ¬„ä½ˆå±€ -->
        <div class="grid-2">
          <!-- å·¦æ¬„ï¼šæ¨¡å‹é¸æ“‡ -->
          <div>
            <div class="form-group">
              <label class="form-label"><i class="fas fa-brain"></i> é¸æ“‡AIæ¨¡å‹</label>
              <div class="model-selector">
                <div class="model-card active" data-model="grok">
                  <div class="model-icon grok-icon">
                    <i class="fas fa-robot"></i>
                  </div>
                  <div class="model-name">Grok 4.1 Fast</div>
                  <div class="model-desc">æ”¯æ´æ¨ç†æ¨¡å¼ï¼Œæ€ç¶­éˆå±•ç¤º</div>
                  <span class="badge grok">æ¨ç†æ¨¡å¼</span>
                </div>
                
                <div class="model-card" data-model="deepseek">
                  <div class="model-icon deepseek-icon">
                    <i class="fas fa-bolt"></i>
                  </div>
                  <div class="model-name">DeepSeek</div>
                  <div class="model-desc">å…è²»é¡åº¦ï¼Œä¸­æ–‡å„ªåŒ–</div>
                  <span class="badge deepseek">å…è²»æ¨è–¦</span>
                </div>
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label"><i class="fas fa-key"></i> APIé‡‘é‘°ç®¡ç†</label>
              <div class="api-key-display" id="apiKeyDisplay">
                æœªè¨­å®š API é‡‘é‘°
              </div>
              <div class="toolbar">
                <button class="btn btn-primary" id="setDeepSeekKey">
                  <i class="fas fa-key"></i> è¨­å®š DeepSeek é‡‘é‘°
                </button>
                <button class="btn btn-outline" id="setGrokKey">
                  <i class="fas fa-brain"></i> è¨­å®š Grok é‡‘é‘°
                </button>
              </div>
            </div>
          </div>
          
          <!-- å³æ¬„ï¼šå¿«é€Ÿé–‹å§‹ -->
          <div>
            <div class="form-group">
              <label class="form-label"><i class="fas fa-magic"></i> æ•™å­¸æ¨¡æ¿</label>
              <div class="templates-grid">
                <div class="template-card" data-template="calculator">
                  <div class="template-icon"><i class="fas fa-calculator"></i></div>
                  <div class="template-title">è¨ˆç®—å™¨ç¨‹å¼</div>
                  <div class="template-desc">å››å‰‡é‹ç®—çš„IPOåˆ†æ</div>
                </div>
                <div class="template-card" data-template="todo">
                  <div class="template-icon"><i class="fas fa-tasks"></i></div>
                  <div class="template-title">å¾…è¾¦äº‹é …</div>
                  <div class="template-desc">CRUDæ“ä½œæ•™å­¸</div>
                </div>
                <div class="template-card" data-template="quiz">
                  <div class="template-icon"><i class="fas fa-question-circle"></i></div>
                  <div class="template-title">æ¸¬é©—ç³»çµ±</div>
                  <div class="template-desc">é¡Œåº«ç®¡ç†èˆ‡è©•åˆ†</div>
                </div>
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label"><i class="fas fa-bolt"></i> å¿«é€Ÿæ“ä½œ</label>
              <div class="btn-group">
                <button class="btn btn-success" id="quickStart">
                  <i class="fas fa-play"></i> å¿«é€Ÿé–‹å§‹
                </button>
                <button class="btn btn-secondary" id="testConnection">
                  <i class="fas fa-plug"></i> æ¸¬è©¦é€£ç·š
                </button>
                <button class="btn btn-outline" id="showGuide">
                  <i class="fas fa-book"></i> æ•™å­¸æŒ‡å—
                </button>
              </div>
            </div>
            
            <div id="homeStatus" class="status status-info">
              <i class="fas fa-info-circle"></i> è«‹é¸æ“‡æ¨¡å‹é–‹å§‹ä½¿ç”¨
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- AIäº’å‹•é  -->
    <div id="api" class="content">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-robot"></i> AIäº’å‹•æ¸¬è©¦</h2>
          <div id="currentModelBadge" class="badge grok">Grok æ¨¡å‹</div>
        </div>
        
        <!-- æ¨ç†æ¨¡å¼é–‹é—œ -->
        <div class="reasoning-toggle" id="reasoningToggle">
          <input type="checkbox" id="enableReasoning">
          <label for="enableReasoning">
            <i class="fas fa-brain"></i> å•Ÿç”¨æ¨ç†æ¨¡å¼ï¼ˆGrokå°ˆç”¨ï¼‰
          </label>
          <span class="model-desc">é¡¯ç¤ºæ¨¡å‹çš„æ€è€ƒéç¨‹</span>
        </div>
        
        <div class="form-group">
          <label class="form-label"><i class="fas fa-comment"></i> è¼¸å…¥æç¤ºè©</label>
          <textarea id="promptInput" class="form-control" placeholder="è«‹è¼¸å…¥è¦è©¢å•AIçš„å•é¡Œ...">
è«‹åˆ†æä¸€å€‹è¨ˆç®—å™¨ç¨‹å¼çš„IPOçµæ§‹ï¼šè¼¸å…¥å…©å€‹æ•¸å­—å’Œé‹ç®—ç¬¦è™Ÿï¼Œè¼¸å‡ºè¨ˆç®—çµæœã€‚
          </textarea>
        </div>
        
        <div class="toolbar">
          <button class="btn btn-primary" id="sendPrompt">
            <i class="fas fa-paper-plane"></i> ç™¼é€è«‹æ±‚
          </button>
          <button class="btn btn-outline" id="clearResponse">
            <i class="fas fa-trash"></i> æ¸…é™¤å›æ‡‰
          </button>
          <button class="btn btn-success" id="useForIPO">
            <i class="fas fa-arrow-right"></i> ç”¨æ–¼IPOåˆ†æ
          </button>
          <button class="btn btn-secondary" id="testReasoning">
            <i class="fas fa-brain"></i> æ¸¬è©¦æ¨ç†æ¨¡å¼
          </button>
        </div>
        
        <div class="form-group">
          <label class="form-label"><i class="fas fa-reply"></i> AIå›æ‡‰</label>
          <div id="apiResponse" class="api-response">
            å›æ‡‰å…§å®¹å°‡é¡¯ç¤ºåœ¨é€™è£¡...
          </div>
        </div>
        
        <div id="apiStatus"></div>
      </div>
    </div>
    
    <!-- APIæ¸¬è©¦é  -->
    <div id="test" class="content">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-vial"></i> APIæ¸¬è©¦å¥—ä»¶</h2>
          <span class="badge deepseek">æ·±åº¦æ¸¬è©¦</span>
        </div>
        
        <div class="test-results" id="testResults">
          <!-- æ¸¬è©¦çµæœå°‡å‹•æ…‹ç”Ÿæˆ -->
        </div>
        
        <div class="toolbar">
          <button class="btn btn-primary" id="runAllTests">
            <i class="fas fa-play-circle"></i> åŸ·è¡Œå®Œæ•´æ¸¬è©¦
          </button>
          <button class="btn btn-success" id="testGrok">
            <i class="fas fa-brain"></i> Grokå°ˆé …æ¸¬è©¦
          </button>
          <button class="btn btn-secondary" id="testDeepSeek">
            <i class="fas fa-bolt"></i> DeepSeekæ¸¬è©¦
          </button>
          <button class="btn btn-outline" id="testConnectionBtn">
            <i class="fas fa-wifi"></i> é€£ç·šæ¸¬è©¦
          </button>
        </div>
        
        <div class="form-group">
          <label class="form-label"><i class="fas fa-chart-line"></i> æ¸¬è©¦æ—¥èªŒ</label>
          <div id="testLog" class="api-response">
            æ¸¬è©¦æ—¥èªŒå°‡é¡¯ç¤ºåœ¨é€™è£¡...
          </div>
        </div>
      </div>
    </div>
    
    <!-- IPOåˆ†æé  -->
    <div id="ipo" class="content">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-sitemap"></i> IPOçµæ§‹åˆ†æ</h2>
          <span class="badge success">æ•™å­¸æ ¸å¿ƒ</span>
        </div>
        
        <div class="grid-2">
          <div class="form-group">
            <label class="form-label"><i class="fas fa-sign-in-alt"></i> Inputï¼ˆè¼¸å…¥ï¼‰</label>
            <textarea id="ipoInput" class="form-control" placeholder="è¼¸å…¥çš„è³‡æ–™ä¾†æºã€æ ¼å¼ã€é©—è­‰æ–¹å¼..."></textarea>
          </div>
          
          <div class="form-group">
            <label class="form-label"><i class="fas fa-cogs"></i> Processï¼ˆè™•ç†ï¼‰</label>
            <textarea id="ipoProcess" class="form-control" placeholder="è™•ç†æ­¥é©Ÿã€æ¼”ç®—æ³•ã€é‚è¼¯æµç¨‹..."></textarea>
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label"><i class="fas fa-sign-out-alt"></i> Outputï¼ˆè¼¸å‡ºï¼‰</label>
          <textarea id="ipoOutput" class="form-control" placeholder="è¼¸å‡ºæ ¼å¼ã€å‘ˆç¾æ–¹å¼ã€çµæœé¡å‹..."></textarea>
        </div>
        
        <div class="toolbar">
          <button class="btn btn-success" id="saveIPO">
            <i class="fas fa-save"></i> å„²å­˜åˆ†æ
          </button>
          <button class="btn btn-primary" id="generateFromIPO">
            <i class="fas fa-code"></i> ç”Ÿæˆç¨‹å¼ç¢¼
          </button>
          <button class="btn btn-outline" id="clearIPO">
            <i class="fas fa-eraser"></i> æ¸…é™¤å…§å®¹
          </button>
        </div>
        
        <div id="ipoStatus"></div>
      </div>
    </div>
    
    <!-- ç¨‹å¼ç”Ÿæˆé  -->
    <div id="code" class="content">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-code"></i> ç¨‹å¼ç¢¼ç”Ÿæˆ</h2>
          <span class="badge deepseek">AIç”Ÿæˆ</span>
        </div>
        
        <div class="form-group">
          <label class="form-label"><i class="fas fa-file-code"></i> ç”Ÿæˆçš„ç¨‹å¼ç¢¼</label>
          <textarea id="codeOutput" class="form-control" style="min-height: 300px;" placeholder="æ ¹æ“šIPOåˆ†æç”Ÿæˆçš„ç¨‹å¼ç¢¼å°‡é¡¯ç¤ºåœ¨é€™è£¡..."></textarea>
        </div>
        
        <div class="toolbar">
          <button class="btn btn-primary" id="generateCode">
            <i class="fas fa-magic"></i> ç”ŸæˆPythonç¨‹å¼ç¢¼
          </button>
          <button class="btn btn-outline" id="generateJavaScript">
            <i class="fab fa-js"></i> ç”ŸæˆJavaScript
          </button>
          <button class="btn btn-success" id="copyCode">
            <i class="fas fa-copy"></i> è¤‡è£½ç¨‹å¼ç¢¼
          </button>
          <button class="btn btn-outline" id="gotoTeach">
            <i class="fas fa-chalkboard-teacher"></i> å‰å¾€æ•™å­¸æ‡‰ç”¨
          </button>
        </div>
        
        <div id="codeStatus"></div>
      </div>
    </div>
    
    <!-- æ•™å­¸æ‡‰ç”¨é  -->
    <div id="teach" class="content">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-chalkboard-teacher"></i> æ•™å­¸æ‡‰ç”¨</h2>
          <span class="badge success">æ•™å­¸ç”Ÿæˆ</span>
        </div>
        
        <div class="form-group">
          <label class="form-label"><i class="fas fa-film"></i> æ•™å­¸è…³æœ¬ç”Ÿæˆ</label>
          <textarea id="teachingScript" class="form-control" style="min-height: 250px;" placeholder="æ•™å­¸è…³æœ¬å°‡é¡¯ç¤ºåœ¨é€™è£¡..."></textarea>
        </div>
        
        <div class="toolbar">
          <button class="btn btn-primary" id="generateScript">
            <i class="fas fa-scroll"></i> ç”Ÿæˆæ•™å­¸è…³æœ¬
          </button>
          <button class="btn btn-success" id="generateSlide">
            <i class="fas fa-images"></i> ç”Ÿæˆæ•™å­¸ç°¡å ±
          </button>
          <button class="btn btn-outline" id="generateQuiz">
            <i class="fas fa-question-circle"></i> ç”Ÿæˆæ¸¬é©—é¡Œç›®
          </button>
        </div>
        
        <div class="form-group">
          <label class="form-label"><i class="fas fa-graduation-cap"></i> æ•™å­¸è³‡æº</label>
          <div class="templates-grid">
            <div class="template-card" data-resource="video">
              <div class="template-icon"><i class="fas fa-video"></i></div>
              <div class="template-title">æ•™å­¸å½±ç‰‡è…³æœ¬</div>
              <div class="template-desc">5åˆ†é˜æ•™å­¸å½±ç‰‡çµæ§‹</div>
            </div>
            <div class="template-card" data-resource="slide">
              <div class="template-icon"><i class="fas fa-slideshow"></i></div>
              <div class="template-title">ç°¡å ±å¤§ç¶±</div>
              <div class="template-desc">6é æ•™å­¸ç°¡å ±çµæ§‹</div>
            </div>
            <div class="template-card" data-resource="quiz">
              <div class="template-icon"><i class="fas fa-edit"></i></div>
              <div class="template-title">æ¸¬é©—é¡Œåº«</div>
              <div class="template-desc">5é¡Œé¸æ“‡+2é¡Œç°¡ç­”</div>
            </div>
          </div>
        </div>
        
        <div id="teachStatus"></div>
      </div>
    </div>
  </div>

  <!-- APIé‡‘é‘°è¨­å®šæ¨¡æ…‹çª— -->
  <div id="apiKeyModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000; justify-content:center; align-items:center;">
    <div style="background:white; border-radius:var(--radius); padding:30px; width:90%; max-width:500px; box-shadow:var(--shadow);">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
        <h3><i class="fas fa-key"></i> è¨­å®šAPIé‡‘é‘°</h3>
        <button id="closeModal" style="background:none; border:none; font-size:24px; cursor:pointer; color:var(--muted);">&times;</button>
      </div>
      
      <div id="modalContent">
        <!-- å…§å®¹å°‡å‹•æ…‹è¼‰å…¥ -->
      </div>
    </div>
  </div>

  <script>
    class AIEducationPlatform {
      constructor() {
        // æ ¸å¿ƒè¨­å®š
        this.currentModel = 'grok'; // é è¨­ä½¿ç”¨Grok
        this.apiKeys = {
          grok: '',
          deepseek: ''
        };
        this.currentAPIKey = '';
        this.enableReasoning = false;
        
        // æ•™å­¸è³‡æ–™
        this.project = {
          name: '',
          problem: '',
          ipo: null,
          code: '',
          teachingScript: '',
          timestamp: ''
        };
        
        // æ¸¬è©¦çµæœ
        this.testResults = {
          connection: false,
          responseTime: 0,
          accuracy: 'N/A',
          totalTests: 0,
          passedTests: 0
        };
        
        // é è¨­é‡‘é‘°ï¼ˆæ•™å­¸ç”¨ï¼‰
        this.demoKeys = {
          deepseek: [
            'sk-demo-deepseek-1234567890abcdef',
            'sk-demo-deepseek-9876543210fedcba'
          ],
          grok: [
            'sk-or-demo-grok-1234567890abcdef',
            'sk-or-demo-grok-9876543210fedcba'
          ]
        };
        
        // æ¨¡å‹è¨­å®š
        this.models = {
          grok: {
            name: 'Grok 4.1 Fast',
            endpoint: 'https://openrouter.ai/api/v1/chat/completions',
            apiKeyRequired: true,
            supportsReasoning: true,
            color: '#9333ea',
            icon: 'fa-robot',
            badgeClass: 'grok'
          },
          deepseek: {
            name: 'DeepSeek',
            endpoint: 'https://api.deepseek.com/v1/chat/completions',
            apiKeyRequired: true,
            supportsReasoning: false,
            color: '#2563eb',
            icon: 'fa-bolt',
            badgeClass: 'deepseek'
          }
        };
        
        // æ•™å­¸æ¨¡æ¿
        this.templates = {
          calculator: {
            name: 'è¨ˆç®—å™¨ç¨‹å¼',
            prompt: 'è«‹åˆ†æä¸€å€‹è¨ˆç®—å™¨ç¨‹å¼çš„IPOçµæ§‹ï¼šè¼¸å…¥å…©å€‹æ•¸å­—å’Œé‹ç®—ç¬¦è™Ÿï¼ˆ+ - * /ï¼‰ï¼Œè¼¸å‡ºè¨ˆç®—çµæœã€‚éœ€è¦è€ƒæ…®éŒ¯èª¤è™•ç†ï¼ˆå¦‚é™¤ä»¥é›¶ï¼‰ã€‚',
            ipo: {
              input: 'â€¢ å…©å€‹æ•¸å­—ï¼ˆæ•´æ•¸æˆ–æµ®é»æ•¸ï¼‰\nâ€¢ é‹ç®—ç¬¦è™Ÿï¼ˆ+ã€-ã€*ã€/ï¼‰\nâ€¢ è¼¸å…¥é©—è­‰ï¼šç¢ºä¿æ•¸å­—æ ¼å¼æ­£ç¢º',
              process: '1. æ¥æ”¶è¼¸å…¥ä¸¦é©—è­‰æ ¼å¼\n2. æ ¹æ“šé‹ç®—ç¬¦è™ŸåŸ·è¡Œå°æ‡‰è¨ˆç®—\n3. è™•ç†ç‰¹æ®Šæƒ…æ³ï¼ˆé™¤ä»¥é›¶ï¼‰\n4. æ ¼å¼åŒ–è¨ˆç®—çµæœ',
              output: 'â€¢ è¨ˆç®—çµæœï¼ˆæ•¸å­—ï¼‰\nâ€¢ éŒ¯èª¤è¨Šæ¯ï¼ˆå¦‚è¼¸å…¥ç„¡æ•ˆæˆ–é™¤ä»¥é›¶ï¼‰\nâ€¢ è¨ˆç®—æ­·å²è¨˜éŒ„'
            }
          },
          todo: {
            name: 'å¾…è¾¦äº‹é …ç³»çµ±',
            prompt: 'è«‹åˆ†æä¸€å€‹å¾…è¾¦äº‹é …ç®¡ç†ç³»çµ±çš„IPOçµæ§‹ï¼šå¯ä»¥æ–°å¢ã€åˆªé™¤ã€æ¨™è¨˜å®Œæˆã€é¡¯ç¤ºæ‰€æœ‰å¾…è¾¦äº‹é …ã€‚',
            ipo: {
              input: 'â€¢ å¾…è¾¦äº‹é …å…§å®¹ï¼ˆæ–‡å­—ï¼‰\nâ€¢ æ“ä½œæŒ‡ä»¤ï¼ˆæ–°å¢ã€åˆªé™¤ã€æ¨™è¨˜å®Œæˆï¼‰\nâ€¢ ä»»å‹™IDï¼ˆç”¨æ–¼åˆªé™¤å’Œæ¨™è¨˜ï¼‰',
              process: '1. è§£ææ“ä½œæŒ‡ä»¤\n2. åŸ·è¡Œå°æ‡‰æ“ä½œï¼ˆæ–°å¢/åˆªé™¤/æ›´æ–°ï¼‰\n3. ç¶­è­·ä»»å‹™ç‹€æ…‹ï¼ˆå®Œæˆ/æœªå®Œæˆï¼‰\n4. ä¿å­˜æ•¸æ“šåˆ°è¨˜æ†¶é«”',
              output: 'â€¢ æ“ä½œçµæœç¢ºèª\nâ€¢ ç•¶å‰æ‰€æœ‰å¾…è¾¦äº‹é …åˆ—è¡¨\nâ€¢ çµ±è¨ˆè³‡è¨Šï¼ˆç¸½æ•¸/å·²å®Œæˆæ•¸ï¼‰'
            }
          },
          quiz: {
            name: 'æ¸¬é©—ç³»çµ±',
            prompt: 'è«‹åˆ†æä¸€å€‹ç°¡å–®æ¸¬é©—ç³»çµ±çš„IPOçµæ§‹ï¼šé¡¯ç¤ºå•é¡Œã€æ¥æ”¶ç­”æ¡ˆã€è©•åˆ†ä¸¦é¡¯ç¤ºçµæœã€‚',
            ipo: {
              input: 'â€¢ å•é¡Œå’Œé¸é …ï¼ˆå¾é¡Œåº«è¼‰å…¥ï¼‰\nâ€¢ ä½¿ç”¨è€…é¸æ“‡çš„ç­”æ¡ˆ\nâ€¢ é–‹å§‹/çµæŸæ¸¬é©—æŒ‡ä»¤',
              process: '1. è¼‰å…¥é¡Œåº«ä¸¦éš¨æ©Ÿé¸æ“‡å•é¡Œ\n2. é¡¯ç¤ºå•é¡Œå’Œé¸é …\n3. æ¥æ”¶ä½¿ç”¨è€…ç­”æ¡ˆ\n4. è¨ˆç®—åˆ†æ•¸å’Œæ­£ç¢ºç‡\n5. é¡¯ç¤ºæœ€çµ‚çµæœ',
              output: 'â€¢ æ¸¬é©—å•é¡Œå’Œé¸é …\nâ€¢ ç­”é¡Œçµæœï¼ˆæ­£ç¢º/éŒ¯èª¤ï¼‰\nâ€¢ æœ€çµ‚åˆ†æ•¸å’Œè©•èª\nâ€¢ è©³ç´°è§£æ'
            }
          }
        };
      }
      
      // åˆå§‹åŒ–
      init() {
        this.bindEvents();
        this.loadDemoData();
        this.updateUI();
        this.showStatus('ğŸ‰ å¹³å°åˆå§‹åŒ–å®Œæˆï¼è«‹é¸æ“‡æ¨¡å‹é–‹å§‹ä½¿ç”¨ã€‚', 'homeStatus', 'success');
      }
      
      // ç¶å®šäº‹ä»¶
      bindEvents() {
        // å°èˆªæŒ‰éˆ•
        document.querySelectorAll('.nav-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const tab = e.target.closest('.nav-btn').getAttribute('data-tab');
            this.switchTab(tab);
          });
        });
        
        // æ¨¡å‹é¸æ“‡
        document.querySelectorAll('.model-card').forEach(card => {
          card.addEventListener('click', (e) => {
            const model = e.target.closest('.model-card').getAttribute('data-model');
            this.selectModel(model);
          });
        });
        
        // æ•™å­¸æ¨¡æ¿
        document.querySelectorAll('.template-card').forEach(card => {
          card.addEventListener('click', (e) => {
            const template = e.target.closest('.template-card').getAttribute('data-template');
            if (template) this.loadTemplate(template);
          });
        });
        
        // APIé‡‘é‘°ç®¡ç†
        document.getElementById('setDeepSeekKey').addEventListener('click', () => this.showAPIKeyModal('deepseek'));
        document.getElementById('setGrokKey').addEventListener('click', () => this.showAPIKeyModal('grok'));
        
        // å¿«é€Ÿæ“ä½œ
        document.getElementById('quickStart').addEventListener('click', () => this.quickStart());
        document.getElementById('testConnection').addEventListener('click', () => this.testAPIConnection());
        document.getElementById('showGuide').addEventListener('click', () => this.showGuide());
        
        // AIäº’å‹•é 
        document.getElementById('sendPrompt').addEventListener('click', () => this.sendPrompt());
        document.getElementById('clearResponse').addEventListener('click', () => this.clearAPIResponse());
        document.getElementById('useForIPO').addEventListener('click', () => this.useResponseForIPO());
        document.getElementById('testReasoning').addEventListener('click', () => this.testReasoningMode());
        
        // æ¨ç†æ¨¡å¼åˆ‡æ›
        document.getElementById('enableReasoning').addEventListener('change', (e) => {
          this.enableReasoning = e.target.checked;
          this.updateReasoningToggle();
        });
        
        // APIæ¸¬è©¦é 
        document.getElementById('runAllTests').addEventListener('click', () => this.runAllTests());
        document.getElementById('testGrok').addEventListener('click', () => this.testGrokAPI());
        document.getElementById('testDeepSeek').addEventListener('click', () => this.testDeepSeekAPI());
        document.getElementById('testConnectionBtn').addEventListener('click', () => this.testAPIConnection());
        
        // IPOåˆ†æé 
        document.getElementById('saveIPO').addEventListener('click', () => this.saveIPO());
        document.getElementById('generateFromIPO').addEventListener('click', () => this.generateCode());
        document.getElementById('clearIPO').addEventListener('click', () => this.clearIPO());
        
        // ç¨‹å¼ç”Ÿæˆé 
        document.getElementById('generateCode').addEventListener('click', () => this.generatePythonCode());
        document.getElementById('generateJavaScript').addEventListener('click', () => this.generateJavaScriptCode());
        document.getElementById('copyCode').addEventListener('click', () => this.copyCode());
        document.getElementById('gotoTeach').addEventListener('click', () => this.switchTab('teach'));
        
        // æ•™å­¸æ‡‰ç”¨é 
        document.getElementById('generateScript').addEventListener('click', () => this.generateTeachingScript());
        document.getElementById('generateSlide').addEventListener('click', () => this.generateSlides());
        document.getElementById('generateQuiz').addEventListener('click', () => this.generateQuiz());
        
        // æ¨¡æ…‹çª—é—œé–‰
        document.getElementById('closeModal').addEventListener('click', () => this.hideModal());
        
        // é»æ“Šæ¨¡æ…‹çª—èƒŒæ™¯é—œé–‰
        document.getElementById('apiKeyModal').addEventListener('click', (e) => {
          if (e.target.id === 'apiKeyModal') this.hideModal();
        });
      }
      
      // è¼‰å…¥ç¤ºç¯„è³‡æ–™
      loadDemoData() {
        // é è¨­ä½¿ç”¨DeepSeekæ¼”ç¤ºé‡‘é‘°
        this.apiKeys.deepseek = this.demoKeys.deepseek[0];
        this.currentAPIKey = this.apiKeys.deepseek;
        this.updateAPIKeyDisplay();
      }
      
      // åˆ‡æ›é ç±¤
      switchTab(tabId) {
        // æ›´æ–°å°èˆªæŒ‰éˆ•
        document.querySelectorAll('.nav-btn').forEach(btn => {
          btn.classList.remove('active');
        });
        document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
        
        // æ›´æ–°å…§å®¹é¡¯ç¤º
        document.querySelectorAll('.content').forEach(content => {
          content.classList.remove('active');
        });
        document.getElementById(tabId).classList.add('active');
        
        // æ›´æ–°æµç¨‹æŒ‡ç¤ºå™¨
        this.updateProcessFlow(tabId);
      }
      
      // æ›´æ–°æµç¨‹æŒ‡ç¤ºå™¨
      updateProcessFlow(tabId) {
        const steps = document.querySelectorAll('.process-step');
        const tabOrder = ['home', 'api', 'test', 'ipo', 'code', 'teach'];
        const stepIndex = tabOrder.indexOf(tabId);
        
        steps.forEach((step, index) => {
          step.classList.remove('active');
          if (index <= stepIndex) {
            step.classList.add('active');
          }
        });
      }
      
      // é¸æ“‡æ¨¡å‹
      selectModel(model) {
        this.currentModel = model;
        
        // æ›´æ–°UI
        document.querySelectorAll('.model-card').forEach(card => {
          card.classList.remove('active');
        });
        document.querySelector(`[data-model="${model}"]`).classList.add('active');
        
        // æ›´æ–°ç•¶å‰APIé‡‘é‘°
        this.currentAPIKey = this.apiKeys[model] || '';
        this.updateAPIKeyDisplay();
        
        // æ›´æ–°æ¨¡å‹æ¨™ç±¤
        const badge = document.getElementById('currentModelBadge');
        badge.textContent = `${this.models[model].name}`;
        badge.className = `badge ${this.models[model].badgeClass}`;
        
        // æ›´æ–°æ¨ç†æ¨¡å¼é–‹é—œ
        this.updateReasoningToggle();
        
        this.showStatus(`âœ… å·²åˆ‡æ›åˆ° ${this.models[model].name}`, 'homeStatus', 'success');
      }
      
      // æ›´æ–°æ¨ç†æ¨¡å¼é–‹é—œ
      updateReasoningToggle() {
        const reasoningToggle = document.getElementById('reasoningToggle');
        const checkbox = document.getElementById('enableReasoning');
        
        if (this.models[this.currentModel].supportsReasoning) {
          reasoningToggle.style.display = 'flex';
          checkbox.checked = this.enableReasoning;
        } else {
          reasoningToggle.style.display = 'none';
          this.enableReasoning = false;
        }
      }
      
      // é¡¯ç¤ºAPIé‡‘é‘°è¨­å®šæ¨¡æ…‹çª—
      showAPIKeyModal(model) {
        const modal = document.getElementById('apiKeyModal');
        const content = document.getElementById('modalContent');
        
        const modelInfo = this.models[model];
        
        content.innerHTML = `
          <div class="form-group">
            <label class="form-label"><i class="${modelInfo.icon}"></i> ${modelInfo.name} APIé‡‘é‘°</label>
            <input type="password" id="apiKeyInput" class="form-control" 
                   placeholder="è«‹è¼¸å…¥ ${modelInfo.name} APIé‡‘é‘°..." 
                   value="${this.apiKeys[model] || ''}">
            
            <div style="margin-top: 10px;">
              <button class="btn btn-outline" id="useDemoKey" style="margin-right: 10px;">
                <i class="fas fa-gift"></i> ä½¿ç”¨æ¼”ç¤ºé‡‘é‘°
              </button>
              <button class="btn btn-outline" id="showGuideLink">
                <i class="fas fa-external-link-alt"></i> å¦‚ä½•å–å¾—é‡‘é‘°ï¼Ÿ
              </button>
            </div>
          </div>
          
          <div class="toolbar">
            <button class="btn btn-outline" id="cancelKey">
              <i class="fas fa-times"></i> å–æ¶ˆ
            </button>
            <button class="btn btn-primary" id="saveKey">
              <i class="fas fa-save"></i> å„²å­˜é‡‘é‘°
            </button>
          </div>
        `;
        
        // ç¶å®šæ¨¡æ…‹çª—å…§æŒ‰éˆ•äº‹ä»¶
        setTimeout(() => {
          document.getElementById('useDemoKey').addEventListener('click', () => {
            const demoKey = this.demoKeys[model][0];
            document.getElementById('apiKeyInput').value = demoKey;
          });
          
          document.getElementById('showGuideLink').addEventListener('click', () => {
            this.showAPIKeyGuide(model);
          });
          
          document.getElementById('cancelKey').addEventListener('click', () => {
            this.hideModal();
          });
          
          document.getElementById('saveKey').addEventListener('click', () => {
            const key = document.getElementById('apiKeyInput').value.trim();
            if (key) {
              this.apiKeys[model] = key;
              if (this.currentModel === model) {
                this.currentAPIKey = key;
                this.updateAPIKeyDisplay();
              }
              this.showStatus(`âœ… ${modelInfo.name} APIé‡‘é‘°å·²å„²å­˜`, 'homeStatus', 'success');
              this.hideModal();
            } else {
              alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„APIé‡‘é‘°');
            }
          });
        }, 100);
        
        modal.style.display = 'flex';
      }
      
      // é¡¯ç¤ºAPIé‡‘é‘°å–å¾—æŒ‡å—
      showAPIKeyGuide(model) {
        const content = document.getElementById('modalContent');
        const guide = model === 'grok' ? `
          <h4><i class="fas fa-brain"></i> å–å¾— OpenRouter API é‡‘é‘°</h4>
          <ol style="margin: 15px 0; padding-left: 20px;">
            <li>å‰å¾€ <a href="https://openrouter.ai/keys" target="_blank">OpenRouter API é‡‘é‘°é é¢</a></li>
            <li>è¨»å†Šä¸¦ç™»å…¥å¸³è™Ÿ</li>
            <li>é»æ“Šã€ŒCreate Keyã€æŒ‰éˆ•</li>
            <li>ç‚ºé‡‘é‘°å‘½åï¼ˆä¾‹å¦‚ï¼šæ•™å­¸å°ˆæ¡ˆï¼‰</li>
            <li>è¤‡è£½ç”¢ç”Ÿçš„ API é‡‘é‘°ï¼ˆæ ¼å¼ï¼šsk-or-...ï¼‰</li>
            <li>è¿”å›æœ¬é é¢è²¼ä¸Šé‡‘é‘°</li>
          </ol>
          <p><strong>å„ªé»ï¼š</strong></p>
          <ul style="margin: 10px 0; padding-left: 20px;">
            <li>æ”¯æ´ Grok æ¨ç†æ¨¡å¼</li>
            <li>å¯æ¸¬è©¦å¤šç¨®AIæ¨¡å‹</li>
            <li>æä¾›å…è²»é¡åº¦</li>
          </ul>
        ` : `
          <h4><i class="fas fa-bolt"></i> å–å¾— DeepSeek API é‡‘é‘°</h4>
          <ol style="margin: 15px 0; padding-left: 20px;">
            <li>å‰å¾€ <a href="https://platform.deepseek.com/api_keys" target="_blank">DeepSeek API å¹³å°</a></li>
            <li>è¨»å†Šä¸¦ç™»å…¥å¸³è™Ÿ</li>
            <li>é»æ“Šã€Œå‰µå»ºæ–°çš„ API é‡‘é‘°ã€</li>
            <li>ç‚ºé‡‘é‘°å‘½åï¼ˆä¾‹å¦‚ï¼šæ•™å­¸å°ˆæ¡ˆï¼‰</li>
            <li>è¤‡è£½ç”¢ç”Ÿçš„ API é‡‘é‘°</li>
            <li>è¿”å›æœ¬é é¢è²¼ä¸Šé‡‘é‘°</li>
          </ol>
          <p><strong>å„ªé»ï¼š</strong></p>
          <ul style="margin: 10px 0; padding-left: 20px;">
            <li>å…è²»é¡åº¦å……è¶³</li>
            <li>ä¸­æ–‡æ”¯æ´è‰¯å¥½</li>
            <li>APIç©©å®šå¿«é€Ÿ</li>
          </ul>
        `;
        
        content.innerHTML = `
          <div style="max-height: 400px; overflow-y: auto; padding-right: 10px;">
            ${guide}
          </div>
          <div class="toolbar">
            <button class="btn btn-outline" id="backToKeyInput">
              <i class="fas fa-arrow-left"></i> è¿”å›
            </button>
          </div>
        `;
        
        document.getElementById('backToKeyInput').addEventListener('click', () => {
          this.showAPIKeyModal(model);
        });
      }
      
      // éš±è—æ¨¡æ…‹çª—
      hideModal() {
        document.getElementById('apiKeyModal').style.display = 'none';
      }
      
      // æ›´æ–°APIé‡‘é‘°é¡¯ç¤º
      updateAPIKeyDisplay() {
        const display = document.getElementById('apiKeyDisplay');
        if (this.currentAPIKey) {
          // é¡¯ç¤ºéƒ¨åˆ†é‡‘é‘°ï¼Œéš±è—ä¸­é–“éƒ¨åˆ†
          const visibleKey = this.currentAPIKey.substring(0, 10) + 
                           '...' + 
                           this.currentAPIKey.substring(this.currentAPIKey.length - 6);
          display.textContent = `å·²è¨­å®š: ${visibleKey}`;
          display.style.color = 'var(--success)';
          display.style.fontWeight = '600';
        } else {
          display.textContent = 'æœªè¨­å®š API é‡‘é‘°';
          display.style.color = 'var(--muted)';
        }
      }
      
      // è¼‰å…¥æ•™å­¸æ¨¡æ¿
      loadTemplate(templateId) {
        const template = this.templates[templateId];
        if (!template) return;
        
        // è¨­å®šæç¤ºè©
        document.getElementById('promptInput').value = template.prompt;
        
        // è‡ªå‹•å¡«å…¥IPOï¼ˆå¦‚æœæœ‰çš„è©±ï¼‰
        if (template.ipo) {
          document.getElementById('ipoInput').value = template.ipo.input;
          document.getElementById('ipoProcess').value = template.ipo.process;
          document.getElementById('ipoOutput').value = template.ipo.output;
        }
        
        // åˆ‡æ›åˆ°AIäº’å‹•é 
        this.switchTab('api');
        this.showStatus(`âœ… å·²è¼‰å…¥ã€Œ${template.name}ã€æ•™å­¸æ¨¡æ¿`, 'apiStatus', 'success');
      }
      
      // å¿«é€Ÿé–‹å§‹
      quickStart() {
        // è‡ªå‹•é¸æ“‡Grokæ¨¡å‹
        this.selectModel('grok');
        
        // è¼‰å…¥è¨ˆç®—å™¨æ¨¡æ¿
        this.loadTemplate('calculator');
        
        // åˆ‡æ›åˆ°AIäº’å‹•é 
        this.switchTab('api');
        
        this.showStatus('ğŸš€ å¿«é€Ÿé–‹å§‹å·²è¨­å®šï¼è«‹é»æ“Šã€Œç™¼é€è«‹æ±‚ã€æ¸¬è©¦AIäº’å‹•ã€‚', 'homeStatus', 'success');
      }
      
      // æ¸¬è©¦APIé€£ç·š
      async testAPIConnection() {
        const statusArea = this.currentTab === 'test' ? 'testLog' : 'homeStatus';
        
        if (!this.currentAPIKey && this.currentModel !== 'local') {
          this.showStatus('è«‹å…ˆè¨­å®šAPIé‡‘é‘°', statusArea, 'error');
          return;
        }
        
        this.showStatus('ğŸ”Œ æ¸¬è©¦APIé€£ç·šä¸­...', statusArea, 'info');
        
        try {
          const startTime = Date.now();
          
          if (this.currentModel === 'grok') {
            // æ¸¬è©¦OpenRouter API
            const response = await fetch('https://openrouter.ai/api/v1/models', {
              headers: {
                'Authorization': `Bearer ${this.currentAPIKey}`,
                'Content-Type': 'application/json'
              }
            });
            
            const endTime = Date.now();
            const responseTime = endTime - startTime;
            
            if (response.ok) {
              this.testResults.connection = true;
              this.testResults.responseTime = responseTime;
              this.showStatus(`âœ… Grok APIé€£ç·šæˆåŠŸï¼å›æ‡‰æ™‚é–“: ${responseTime}ms`, statusArea, 'success');
            } else {
              throw new Error(`HTTP ${response.status}`);
            }
          } else if (this.currentModel === 'deepseek') {
            // æ¸¬è©¦DeepSeek API
            const response = await fetch('https://api.deepseek.com/v1/models', {
              headers: {
                'Authorization': `Bearer ${this.currentAPIKey}`,
                'Content-Type': 'application/json'
              }
            });
            
            const endTime = Date.now();
            const responseTime = endTime - startTime;
            
            if (response.ok) {
              this.testResults.connection = true;
              this.testResults.responseTime = responseTime;
              this.showStatus(`âœ… DeepSeek APIé€£ç·šæˆåŠŸï¼å›æ‡‰æ™‚é–“: ${responseTime}ms`, statusArea, 'success');
            } else {
              throw new Error(`HTTP ${response.status}`);
            }
          }
          
          this.updateTestResultsDisplay();
          
        } catch (error) {
          console.error('APIé€£ç·šæ¸¬è©¦å¤±æ•—:', error);
          this.testResults.connection = false;
          this.showStatus(`âŒ APIé€£ç·šæ¸¬è©¦å¤±æ•—: ${error.message}`, statusArea, 'error');
          
          // è‡ªå‹•åˆ‡æ›åˆ°æ¼”ç¤ºæ¨¡å¼
          setTimeout(() => {
            this.showStatus('âš ï¸ è‡ªå‹•åˆ‡æ›åˆ°æ¼”ç¤ºæ¨¡å¼ï¼Œå¯ä½¿ç”¨æ¨¡æ“¬å›æ‡‰', statusArea, 'warning');
          }, 1000);
        }
      }
      
      // ç™¼é€æç¤ºè©åˆ°AI
      async sendPrompt() {
        const prompt = document.getElementById('promptInput').value.trim();
        if (!prompt) {
          this.showStatus('è«‹è¼¸å…¥æç¤ºè©', 'apiStatus', 'warning');
          return;
        }
        
        const responseArea = document.getElementById('apiResponse');
        responseArea.innerHTML = '<div class="loading"><div class="spinner"></div> æ­£åœ¨ç™¼é€è«‹æ±‚...</div>';
        
        // å„²å­˜å•é¡Œåˆ°å°ˆæ¡ˆ
        this.project.problem = prompt;
        this.project.timestamp = new Date().toLocaleString();
        
        try {
          if (this.currentAPIKey) {
            // çœŸå¯¦APIè«‹æ±‚
            let apiUrl, requestBody;
            
            if (this.currentModel === 'grok') {
              apiUrl = 'https://openrouter.ai/api/v1/chat/completions';
              requestBody = {
                model: 'x-ai/grok-4.1-fast',
                messages: [
                  {
                    role: 'user',
                    content: `è«‹ä»¥çµæ§‹åŒ–æ–¹å¼åˆ†æä»¥ä¸‹å•é¡Œçš„IPOï¼ˆInput-Process-Outputï¼‰ï¼š
å•é¡Œï¼šã€Œ${prompt}ã€

è«‹æä¾›ï¼š
1. ğŸ“¥ Inputï¼ˆè¼¸å…¥ï¼‰ï¼šéœ€è¦çš„è³‡æ–™ã€ä¾†æºã€æ ¼å¼
2. âš™ï¸ Processï¼ˆè™•ç†ï¼‰ï¼šæ­¥é©Ÿã€æ¼”ç®—æ³•ã€é‚è¼¯
3. ğŸ“¤ Outputï¼ˆè¼¸å‡ºï¼‰ï¼šçµæœã€æ ¼å¼ã€å‘ˆç¾æ–¹å¼

è«‹ç”¨æ¸…æ™°æ˜“æ‡‚çš„æ–¹å¼å‘ˆç¾ï¼Œé©åˆæ•™å­¸ä½¿ç”¨ã€‚`
                  }
                ],
                max_tokens: 1000,
                temperature: 0.7
              };
              
              // æ·»åŠ æ¨ç†æ¨¡å¼
              if (this.enableReasoning) {
                requestBody.reasoning = { enabled: true };
              }
              
            } else if (this.currentModel === 'deepseek') {
              apiUrl = 'https://api.deepseek.com/v1/chat/completions';
              requestBody = {
                model: 'deepseek-chat',
                messages: [
                  {
                    role: 'user',
                    content: `è«‹ä»¥çµæ§‹åŒ–æ–¹å¼åˆ†æä»¥ä¸‹å•é¡Œçš„IPOï¼ˆInput-Process-Outputï¼‰ï¼š
å•é¡Œï¼šã€Œ${prompt}ã€

è«‹æä¾›ï¼š
1. ğŸ“¥ Inputï¼ˆè¼¸å…¥ï¼‰ï¼šéœ€è¦çš„è³‡æ–™ã€ä¾†æºã€æ ¼å¼
2. âš™ï¸ Processï¼ˆè™•ç†ï¼‰ï¼šæ­¥é©Ÿã€æ¼”ç®—æ³•ã€é‚è¼¯
3. ğŸ“¤ Outputï¼ˆè¼¸å‡ºï¼‰ï¼šçµæœã€æ ¼å¼ã€å‘ˆç¾æ–¹å¼

è«‹ç”¨æ¸…æ™°æ˜“æ‡‚çš„æ–¹å¼å‘ˆç¾ï¼Œé©åˆæ•™å­¸ä½¿ç”¨ã€‚`
                  }
                ],
                max_tokens: 1000,
                temperature: 0.7
              };
            }
            
            const response = await fetch(apiUrl, {
              method: 'POST',
              headers: {
                'Authorization': `Bearer ${this.currentAPIKey}`,
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(requestBody)
            });
            
            if (response.ok) {
              const data = await response.json();
              let aiResponse = '';
              
              if (this.currentModel === 'grok') {
                aiResponse = data.choices?.[0]?.message?.content || 'ç„¡å›æ‡‰å…§å®¹';
                // å¦‚æœæœ‰æ¨ç†å…§å®¹
                if (data.choices?.[0]?.message?.reasoning) {
                  aiResponse = `ğŸ§  æ¨ç†éç¨‹ï¼š\n${data.choices[0].message.reasoning}\n\nğŸ’¡ æœ€çµ‚ç­”æ¡ˆï¼š\n${aiResponse}`;
                }
              } else if (this.currentModel === 'deepseek') {
                aiResponse = data.choices?.[0]?.message?.content || 'ç„¡å›æ‡‰å…§å®¹';
              }
              
              this.project.apiResponse = aiResponse;
              responseArea.textContent = aiResponse;
              this.showStatus(`âœ… ${this.models[this.currentModel].name} å›æ‡‰å®Œæˆ`, 'apiStatus', 'success');
              
            } else {
              throw new Error(`APIéŒ¯èª¤: ${response.status}`);
            }
          } else {
            // æ¼”ç¤ºæ¨¡å¼ - ä½¿ç”¨æ¨¡æ“¬å›æ‡‰
            await new Promise(resolve => setTimeout(resolve, 1500));
            const mockResponse = this.getMockResponse(prompt);
            this.project.apiResponse = mockResponse;
            responseArea.textContent = mockResponse;
            this.showStatus('âœ… æ¨¡æ“¬å›æ‡‰å®Œæˆï¼ˆæ¼”ç¤ºæ¨¡å¼ï¼‰', 'apiStatus', 'success');
          }
        } catch (error) {
          console.error('APIè«‹æ±‚å¤±æ•—:', error);
          
          // å¤±æ•—æ™‚ä½¿ç”¨æ¨¡æ“¬å›æ‡‰
          const mockResponse = this.getMockResponse(prompt);
          this.project.apiResponse = mockResponse;
          responseArea.textContent = `${error.message}\n\nè½‰ç‚ºæ¨¡æ“¬æ¨¡å¼ï¼š\n\n${mockResponse}`;
          this.showStatus('âš ï¸ APIè«‹æ±‚å¤±æ•—ï¼Œå·²ä½¿ç”¨æ¨¡æ“¬å›æ‡‰', 'apiStatus', 'warning');
        }
      }
      
      // ç”¢ç”Ÿæ¨¡æ“¬å›æ‡‰
      getMockResponse(prompt) {
        return `ğŸ¤– ${this.models[this.currentModel].name} åˆ†æçµæœï¼ˆæ¼”ç¤ºæ¨¡å¼ï¼‰ï¼š

å•é¡Œï¼šã€Œ${prompt}ã€

ğŸ“¥ Inputï¼ˆè¼¸å…¥ï¼‰åˆ†æï¼š
1. è³‡æ–™ä¾†æºï¼šä½¿ç”¨è€…è¼¸å…¥ã€æª”æ¡ˆç³»çµ±ã€è³‡æ–™åº«æŸ¥è©¢
2. è¼¸å…¥æ ¼å¼ï¼šæ–‡å­—ã€æ•¸å­—ã€JSONã€CSVæª”æ¡ˆ
3. é©—è­‰æ©Ÿåˆ¶ï¼šæ ¼å¼æª¢æŸ¥ã€ç¯„åœé©—è­‰ã€å®Œæ•´æ€§ç¢ºèª
4. éŒ¯èª¤è™•ç†ï¼šç„¡æ•ˆè¼¸å…¥çš„åµæ¸¬èˆ‡ä½¿ç”¨è€…å¼•å°

âš™ï¸ Processï¼ˆè™•ç†ï¼‰æµç¨‹ï¼š
1. éœ€æ±‚è§£æï¼šç†è§£å•é¡Œæ ¸å¿ƒèˆ‡é‚Šç•Œæ¢ä»¶
2. è³‡æ–™é è™•ç†ï¼šæ¸…æ´—ã€è½‰æ›ã€æ¨™æº–åŒ–è¼¸å…¥è³‡æ–™
3. æ ¸å¿ƒé‚è¼¯ï¼šå¯¦ç¾ä¸»è¦åŠŸèƒ½çš„æ¼”ç®—æ³•èˆ‡æ¥­å‹™è¦å‰‡
4. éŒ¯èª¤è™•ç†ï¼šç•°å¸¸æƒ…æ³çš„åµæ¸¬ã€è™•ç†èˆ‡æ¢å¾©æ©Ÿåˆ¶
5. æ•ˆèƒ½å„ªåŒ–ï¼šè³‡æºç®¡ç†ã€å¿«å–ç­–ç•¥ã€ä¸¦è¡Œè™•ç†è€ƒé‡

ğŸ“¤ Outputï¼ˆè¼¸å‡ºï¼‰è¦åŠƒï¼š
1. ä¸»è¦è¼¸å‡ºï¼šè¨ˆç®—çµæœã€åˆ†æå ±å‘Šã€ç³»çµ±ç‹€æ…‹
2. è¼¸å‡ºæ ¼å¼ï¼šæ–‡å­—å ±è¡¨ã€åœ–è¡¨è¦–è¦ºåŒ–ã€æª”æ¡ˆåŒ¯å‡ºã€APIå›æ‡‰
3. éŒ¯èª¤è¼¸å‡ºï¼šè©³ç´°çš„éŒ¯èª¤è¨Šæ¯ã€é™¤éŒ¯è³‡è¨Šã€è§£æ±ºå»ºè­°
4. æ—¥èªŒè¨˜éŒ„ï¼šç³»çµ±åŸ·è¡Œç´€éŒ„ã€æ•ˆèƒ½æŒ‡æ¨™ã€ä½¿ç”¨çµ±è¨ˆ
5. æ“´å……è¼¸å‡ºï¼šæœªä¾†åŠŸèƒ½é ç•™æ¥å£èˆ‡æ“´å±•é»

ğŸ’¡ æ•™å­¸å»ºè­°ï¼š
- æ¡ç”¨è¿­ä»£é–‹ç™¼ï¼Œæ¯éšæ®µéƒ½æœ‰å¯é©—è­‰çš„æˆæœ
- é‡è¦–ä½¿ç”¨è€…é«”é©—èˆ‡éŒ¯èª¤è™•ç†
- ä¿æŒç¨‹å¼ç¢¼çš„å¯è®€æ€§èˆ‡å¯ç¶­è­·æ€§
- è€ƒæ…®ç³»çµ±çš„å¯æ“´å……æ€§èˆ‡æœªä¾†éœ€æ±‚è®ŠåŒ–

ğŸ¯ å¯¦ä½œç­–ç•¥ï¼šå¾æœ€å°å¯è¡Œç”¢å“é–‹å§‹ï¼Œé€æ­¥å¢åŠ åŠŸèƒ½è¤‡é›œåº¦ã€‚`;
      }
      
      // æ¸…é™¤APIå›æ‡‰
      clearAPIResponse() {
        document.getElementById('apiResponse').textContent = 'å›æ‡‰å…§å®¹å°‡é¡¯ç¤ºåœ¨é€™è£¡...';
        this.showStatus('å·²æ¸…é™¤å›æ‡‰å…§å®¹', 'apiStatus', 'info');
      }
      
      // ä½¿ç”¨å›æ‡‰é€²è¡ŒIPOåˆ†æ
      useResponseForIPO() {
        if (!this.project.apiResponse) {
          this.showStatus('è«‹å…ˆå–å¾—AIå›æ‡‰', 'apiStatus', 'warning');
          return;
        }
        
        // ç°¡å–®è§£æIPOéƒ¨åˆ†ï¼ˆå¯¦éš›æ‡‰ç”¨å¯ä»¥æ›´è¤‡é›œï¼‰
        const response = this.project.apiResponse;
        
        // å˜—è©¦æå–IPOéƒ¨åˆ†
        const inputMatch = response.match(/ğŸ“¥ Input[\s\S]*?(?=ğŸ“¤|âš™ï¸|$)/);
        const processMatch = response.match(/âš™ï¸ Process[\s\S]*?(?=ğŸ“¥|ğŸ“¤|$)/);
        const outputMatch = response.match(/ğŸ“¤ Output[\s\S]*?(?=ğŸ“¥|âš™ï¸|$)/);
        
        if (inputMatch) {
          document.getElementById('ipoInput').value = inputMatch[0].replace('ğŸ“¥ Input', '').trim();
        }
        if (processMatch) {
          document.getElementById('ipoProcess').value = processMatch[0].replace('âš™ï¸ Process', '').trim();
        }
        if (outputMatch) {
          document.getElementById('ipoOutput').value = outputMatch[0].replace('ğŸ“¤ Output', '').trim();
        }
        
        // åˆ‡æ›åˆ°IPOé é¢
        this.switchTab('ipo');
        this.showStatus('âœ… å·²å°‡AIå›æ‡‰å¡«å…¥IPOåˆ†ææ¬„ä½', 'ipoStatus', 'success');
      }
      
      // æ¸¬è©¦æ¨ç†æ¨¡å¼
      async testReasoningMode() {
        // ç¢ºä¿ä½¿ç”¨Grokæ¨¡å‹
        if (this.currentModel !== 'grok') {
          this.selectModel('grok');
          await new Promise(resolve => setTimeout(resolve, 500));
        }
        
        // å•Ÿç”¨æ¨ç†æ¨¡å¼
        this.enableReasoning = true;
        document.getElementById('enableReasoning').checked = true;
        
        // è¨­å®šæ¸¬è©¦æç¤ºè©
        document.getElementById('promptInput').value = "How many 'r's are in the word 'strawberry'? Please show your reasoning.";
        
        // ç™¼é€è«‹æ±‚
        this.sendPrompt();
      }
      
      // åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
      async runAllTests() {
        this.switchTab('test');
        const logArea = document.getElementById('testLog');
        
        logArea.textContent = 'ğŸ§ª é–‹å§‹åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶...\n\n';
        
        // æ¸¬è©¦1: APIé€£ç·š
        logArea.textContent += '1. æ¸¬è©¦APIé€£ç·š...\n';
        await this.testAPIConnection();
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        // æ¸¬è©¦2: ç°¡å–®å›æ‡‰
        logArea.textContent += '\n2. æ¸¬è©¦ç°¡å–®å›æ‡‰...\n';
        await this.testSimpleResponse();
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        // æ¸¬è©¦3: è¤‡é›œåˆ†æ
        logArea.textContent += '\n3. æ¸¬è©¦è¤‡é›œåˆ†æ...\n';
        await this.testComplexAnalysis();
        
        // é¡¯ç¤ºç¸½çµ
        setTimeout(() => {
          const successRate = this.testResults.totalTests > 0 ? 
            Math.round((this.testResults.passedTests / this.testResults.totalTests) * 100) : 0;
          
          logArea.textContent += `\nâœ… æ¸¬è©¦å¥—ä»¶åŸ·è¡Œå®Œæˆï¼\n`;
          logArea.textContent += `â€¢ ç¸½æ¸¬è©¦æ•¸: ${this.testResults.totalTests}\n`;
          logArea.textContent += `â€¢ é€šéæ¸¬è©¦: ${this.testResults.passedTests}\n`;
          logArea.textContent += `â€¢ æˆåŠŸç‡: ${successRate}%\n`;
          logArea.textContent += `â€¢ å¹³å‡å›æ‡‰æ™‚é–“: ${this.testResults.responseTime || 'N/A'}ms\n`;
          
          this.updateTestResultsDisplay();
        }, 500);
      }
      
      // æ¸¬è©¦ç°¡å–®å›æ‡‰
      async testSimpleResponse() {
        const logArea = document.getElementById('testLog');
        
        if (!this.currentAPIKey) {
          logArea.textContent += '   âš ï¸ ç„¡APIé‡‘é‘°ï¼Œè·³éçœŸå¯¦æ¸¬è©¦\n';
          return;
        }
        
        try {
          const startTime = Date.now();
          
          let apiUrl, requestBody;
          
          if (this.currentModel === 'grok') {
            apiUrl = 'https://openrouter.ai/api/v1/chat/completions';
            requestBody = {
              model: 'x-ai/grok-4.1-fast',
              messages: [{ role: 'user', content: 'è«‹ç”¨ä¸€å¥è©±ä»‹ç´¹ä½ è‡ªå·±' }],
              max_tokens: 50
            };
          } else {
            apiUrl = 'https://api.deepseek.com/v1/chat/completions';
            requestBody = {
              model: 'deepseek-chat',
              messages: [{ role: 'user', content: 'è«‹ç”¨ä¸€å¥è©±ä»‹ç´¹ä½ è‡ªå·±' }],
              max_tokens: 50
            };
          }
          
          const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${this.currentAPIKey}`,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestBody)
          });
          
          const endTime = Date.now();
          const responseTime = endTime - startTime;
          
          if (response.ok) {
            this.testResults.totalTests += 1;
            this.testResults.passedTests += 1;
            logArea.textContent += `   âœ… ç°¡å–®å›æ‡‰æ¸¬è©¦æˆåŠŸ (${responseTime}ms)\n`;
          } else {
            throw new Error(`HTTP ${response.status}`);
          }
        } catch (error) {
          logArea.textContent += `   âŒ ç°¡å–®å›æ‡‰æ¸¬è©¦å¤±æ•—: ${error.message}\n`;
          this.testResults.totalTests += 1;
        }
      }
      
      // æ¸¬è©¦è¤‡é›œåˆ†æ
      async testComplexAnalysis() {
        const logArea = document.getElementById('testLog');
        
        if (!this.currentAPIKey) {
          logArea.textContent += '   âš ï¸ ç„¡APIé‡‘é‘°ï¼Œè·³éçœŸå¯¦æ¸¬è©¦\n';
          return;
        }
        
        try {
          const startTime = Date.now();
          
          let apiUrl, requestBody;
          
          if (this.currentModel === 'grok') {
            apiUrl = 'https://openrouter.ai/api/v1/chat/completions';
            requestBody = {
              model: 'x-ai/grok-4.1-fast',
              messages: [{ 
                role: 'user', 
                content: 'åˆ†æä¸€å€‹å­¸ç”Ÿä½œæ¥­ç®¡ç†ç³»çµ±çš„IPOçµæ§‹ï¼Œè¦æ±‚è©³ç´°èªªæ˜è¼¸å…¥ã€è™•ç†å’Œè¼¸å‡º' 
              }],
              max_tokens: 300
            };
          } else {
            apiUrl = 'https://api.deepseek.com/v1/chat/completions';
            requestBody = {
              model: 'deepseek-chat',
              messages: [{ 
                role: 'user', 
                content: 'åˆ†æä¸€å€‹å­¸ç”Ÿä½œæ¥­ç®¡ç†ç³»çµ±çš„IPOçµæ§‹ï¼Œè¦æ±‚è©³ç´°èªªæ˜è¼¸å…¥ã€è™•ç†å’Œè¼¸å‡º' 
              }],
              max_tokens: 300
            };
          }
          
          const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${this.currentAPIKey}`,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestBody)
          });
          
          const endTime = Date.now();
          const responseTime = endTime - startTime;
          
          if (response.ok) {
            const data = await response.json();
            const responseText = this.currentModel === 'grok' 
              ? data.choices?.[0]?.message?.content || ''
              : data.choices?.[0]?.message?.content || '';
            
            // è©•ä¼°å›æ‡‰è³ªé‡
            const hasIPO = responseText.includes('Input') || responseText.includes('Process') || 
                          responseText.includes('Output') || responseText.includes('è¼¸å…¥') || 
                          responseText.includes('è™•ç†') || responseText.includes('è¼¸å‡º');
            const isDetailed = responseText.length > 100;
            
            this.testResults.accuracy = hasIPO && isDetailed ? 'high' : (hasIPO ? 'medium' : 'low');
            this.testResults.totalTests += 1;
            this.testResults.passedTests += 1;
            
            logArea.textContent += `   âœ… è¤‡é›œåˆ†ææ¸¬è©¦æˆåŠŸ (${responseTime}ms, è³ªé‡: ${this.testResults.accuracy})\n`;
          } else {
            throw new Error(`HTTP ${response.status}`);
          }
        } catch (error) {
          logArea.textContent += `   âŒ è¤‡é›œåˆ†ææ¸¬è©¦å¤±æ•—: ${error.message}\n`;
          this.testResults.totalTests += 1;
        }
      }
      
      // æ¸¬è©¦Grok API
      async testGrokAPI() {
        // åˆ‡æ›åˆ°Grokæ¨¡å‹
        if (this.currentModel !== 'grok') {
          this.selectModel('grok');
          await new Promise(resolve => setTimeout(resolve, 500));
        }
        
        // åŸ·è¡Œæ¸¬è©¦
        await this.runAllTests();
      }
      
      // æ¸¬è©¦DeepSeek API
      async testDeepSeekAPI() {
        // åˆ‡æ›åˆ°DeepSeekæ¨¡å‹
        if (this.currentModel !== 'deepseek') {
          this.selectModel('deepseek');
          await new Promise(resolve => setTimeout(resolve, 500));
        }
        
        // åŸ·è¡Œæ¸¬è©¦
        await this.runAllTests();
      }
      
      // æ›´æ–°æ¸¬è©¦çµæœé¡¯ç¤º
      updateTestResultsDisplay() {
        const resultsArea = document.getElementById('testResults');
        
        const results = [
          {
            label: 'é€£ç·šç‹€æ…‹',
            value: this.testResults.connection ? 'âœ… æˆåŠŸ' : 'âŒ å¤±æ•—',
            icon: 'wifi',
            color: this.testResults.connection ? 'success' : 'error'
          },
          {
            label: 'å›æ‡‰æ™‚é–“',
            value: this.testResults.responseTime ? `${this.testResults.responseTime}ms` : 'N/A',
            icon: 'clock',
            color: this.testResults.responseTime ? 
                   (this.testResults.responseTime < 500 ? 'success' : 
                    this.testResults.responseTime < 1000 ? 'warning' : 'error') : 'muted'
          },
          {
            label: 'åˆ†æè³ªé‡',
            value: this.testResults.accuracy,
            icon: 'chart-line',
            color: this.testResults.accuracy === 'high' ? 'success' : 
                   this.testResults.accuracy === 'medium' ? 'warning' : 'muted'
          },
          {
            label: 'æ¸¬è©¦çµ±è¨ˆ',
            value: `${this.testResults.passedTests}/${this.testResults.totalTests}`,
            icon: 'check-circle',
            color: this.testResults.totalTests > 0 ? 
                   (this.testResults.passedTests === this.testResults.totalTests ? 'success' :
                    this.testResults.passedTests / this.testResults.totalTests >= 0.5 ? 'warning' : 'error') : 'muted'
          }
        ];
        
        resultsArea.innerHTML = results.map(result => `
          <div class="test-card">
            <div class="test-icon" style="color: var(--${result.color})">
              <i class="fas fa-${result.icon}"></i>
            </div>
            <div class="test-label">${result.label}</div>
            <div class="test-value" style="color: var(--${result.color})">${result.value}</div>
          </div>
        `).join('');
      }
      
      // å„²å­˜IPOåˆ†æ
      saveIPO() {
        const input = document.getElementById('ipoInput').value.trim();
        const process = document.getElementById('ipoProcess').value.trim();
        const output = document.getElementById('ipoOutput').value.trim();
        
        if (!input || !process || !output) {
          this.showStatus('è«‹å®Œæ•´å¡«å¯«IPOä¸‰å€‹æ¬„ä½', 'ipoStatus', 'warning');
          return;
        }
        
        this.project.ipo = {
          input: input,
          process: process,
          output: output,
          timestamp: new Date().toLocaleString()
        };
        
        this.showStatus('âœ… IPOåˆ†æå·²å„²å­˜ï¼å¯å‰å¾€ç¨‹å¼ç”Ÿæˆ', 'ipoStatus', 'success');
      }
      
      // æ¸…é™¤IPOå…§å®¹
      clearIPO() {
        document.getElementById('ipoInput').value = '';
        document.getElementById('ipoProcess').value = '';
        document.getElementById('ipoOutput').value = '';
        this.showStatus('å·²æ¸…é™¤IPOå…§å®¹', 'ipoStatus', 'info');
      }
      
      // ç”ŸæˆPythonç¨‹å¼ç¢¼
      generatePythonCode() {
        if (!this.project.ipo) {
          this.showStatus('è«‹å…ˆå®Œæˆä¸¦å„²å­˜IPOåˆ†æ', 'codeStatus', 'warning');
          this.switchTab('ipo');
          return;
        }
        
        const code = `# AIæ•™å­¸å¹³å° - Pythonç¨‹å¼ç¢¼ç”Ÿæˆ
# å°ˆæ¡ˆ: ${this.project.name || 'æœªå‘½åå°ˆæ¡ˆ'}
# ç”Ÿæˆæ™‚é–“: ${new Date().toLocaleString()}
# æ¨¡å‹: ${this.models[this.currentModel].name}

"""
IPOåˆ†æï¼š
==========
ğŸ“¥ Input:
${this.project.ipo.input}

âš™ï¸ Process:
${this.project.ipo.process}

ğŸ“¤ Output:
${this.project.ipo.output}
"""

def main():
    """ä¸»ç¨‹å¼ï¼šæ ¹æ“šIPOåˆ†æå¯¦ä½œè§£æ±ºæ–¹æ¡ˆ"""
    print("=" * 60)
    print("AIè¼”åŠ©ç¨‹å¼ç”Ÿæˆ - Pythonå¯¦ä½œ")
    print("=" * 60)
    
    # éšæ®µ1: è¼¸å…¥è™•ç†
    print("\\nğŸ“¥ éšæ®µ1: è¼¸å…¥è™•ç†")
    print("-" * 40)
    
    def handle_input():
        """è™•ç†æ‰€æœ‰è¼¸å…¥ç›¸é—œé‚è¼¯"""
        print("1. æ¥æ”¶ä½¿ç”¨è€…è¼¸å…¥")
        print("2. é©—è­‰è¼¸å…¥æ ¼å¼èˆ‡ç¯„åœ")
        print("3. è½‰æ›ç‚ºå…§éƒ¨è³‡æ–™çµæ§‹")
        print("4. è™•ç†éŒ¯èª¤è¼¸å…¥æƒ…æ³")
        return True
    
    input_success = handle_input()
    
    # éšæ®µ2: æ ¸å¿ƒè™•ç†
    print("\\nâš™ï¸ éšæ®µ2: æ ¸å¿ƒè™•ç†")
    print("-" * 40)
    
    def process_data():
        """åŸ·è¡Œä¸»è¦æ¥­å‹™é‚è¼¯"""
        print("1. åŸ·è¡Œæ ¸å¿ƒæ¼”ç®—æ³•")
        print("2. è™•ç†æ¥­å‹™è¦å‰‡")
        print("3. è¨ˆç®—ä¸­é–“çµæœ")
        print("4. å„ªåŒ–è™•ç†æ•ˆèƒ½")
        return {"status": "processing", "data": "sample_result"}
    
    process_result = process_data()
    
    # éšæ®µ3: è¼¸å‡ºç”Ÿæˆ
    print("\\nğŸ“¤ éšæ®µ3: è¼¸å‡ºç”Ÿæˆ")
    print("-" * 40)
    
    def generate_output(result):
        """ç”Ÿæˆæœ€çµ‚è¼¸å‡º"""
        print("1. æ ¼å¼åŒ–è¼¸å‡ºè³‡æ–™")
        print("2. æº–å‚™è¼¸å‡ºåª’ä»‹")
        print("3. ç”¢ç”Ÿå ±å‘Šèˆ‡çµ±è¨ˆ")
        print("4. å‚³é€çµæœ")
        return {"status": "completed", "output": "final_output"}
    
    output_result = generate_output(process_result)
    
    # ç¸½çµ
    print("\\n" + "=" * 60)
    print("ç¨‹å¼åŸ·è¡Œå®Œæˆï¼")
    print("=" * 60)
    print(f"è¼¸å…¥è™•ç†: {'æˆåŠŸ' if input_success else 'å¤±æ•—'}")
    print(f"æ ¸å¿ƒè™•ç†: {process_result['status']}")
    print(f"è¼¸å‡ºç”Ÿæˆ: {output_result['status']}")
    print(f"æœ€çµ‚è¼¸å‡º: {output_result['output']}")
    
    return output_result

if __name__ == "__main__":
    result = main()
    
    # æ•™å­¸æç¤º
    print("\\nğŸ’¡ æ•™å­¸æç¤ºï¼š")
    print("1. æ ¹æ“šå¯¦éš›éœ€æ±‚ä¿®æ”¹å„å‡½å¼çš„å¯¦ä½œå…§å®¹")
    print("2. åŠ å…¥å®Œå–„çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶")
    print("3. è€ƒæ…®æ•ˆèƒ½å„ªåŒ–èˆ‡è³‡æºç®¡ç†")
    print("4. æ’°å¯«å–®å…ƒæ¸¬è©¦ç¢ºä¿ç¨‹å¼å“è³ª")
    print("5. åŠ å…¥æ—¥èªŒè¨˜éŒ„ä»¥ä¾¿é™¤éŒ¯")`;
        
        document.getElementById('codeOutput').value = code;
        this.project.code = code;
        this.showStatus('âœ… Pythonç¨‹å¼ç¢¼å·²ç”Ÿæˆ', 'codeStatus', 'success');
      }
      
      // ç”ŸæˆJavaScriptç¨‹å¼ç¢¼
      generateJavaScriptCode() {
        if (!this.project.ipo) {
          this.showStatus('è«‹å…ˆå®Œæˆä¸¦å„²å­˜IPOåˆ†æ', 'codeStatus', 'warning');
          return;
        }
        
        const code = `// AIæ•™å­¸å¹³å° - JavaScriptç¨‹å¼ç¢¼ç”Ÿæˆ
// å°ˆæ¡ˆ: ${this.project.name || 'æœªå‘½åå°ˆæ¡ˆ'}
// ç”Ÿæˆæ™‚é–“: ${new Date().toLocaleString()}
// æ¨¡å‹: ${this.models[this.currentModel].name}

/*
IPOåˆ†æï¼š
==========
ğŸ“¥ Input:
${this.project.ipo.input}

âš™ï¸ Process:
${this.project.ipo.process}

ğŸ“¤ Output:
${this.project.ipo.output}
*/

class ProjectSolution {
    constructor() {
        console.log("=".repeat(60));
        console.log("AIè¼”åŠ©ç¨‹å¼ç”Ÿæˆ - JavaScriptå¯¦ä½œ");
        console.log("=".repeat(60));
    }
    
    // è¼¸å…¥è™•ç†
    handleInput() {
        console.log("\\nğŸ“¥ éšæ®µ1: è¼¸å…¥è™•ç†");
        console.log("-".repeat(40));
        
        console.log("1. æ¥æ”¶ä½¿ç”¨è€…è¼¸å…¥");
        console.log("2. é©—è­‰è¼¸å…¥æ ¼å¼èˆ‡ç¯„åœ");
        console.log("3. è½‰æ›ç‚ºå…§éƒ¨è³‡æ–™çµæ§‹");
        console.log("4. è™•ç†éŒ¯èª¤è¼¸å…¥æƒ…æ³");
        
        return { success: true, data: null };
    }
    
    // æ ¸å¿ƒè™•ç†
    processData() {
        console.log("\\nâš™ï¸ éšæ®µ2: æ ¸å¿ƒè™•ç†");
        console.log("-".repeat(40));
        
        console.log("1. åŸ·è¡Œæ ¸å¿ƒæ¼”ç®—æ³•");
        console.log("2. è™•ç†æ¥­å‹™è¦å‰‡");
        console.log("3. è¨ˆç®—ä¸­é–“çµæœ");
        console.log("4. å„ªåŒ–è™•ç†æ•ˆèƒ½");
        
        return { status: "processing", result: "sample_result" };
    }
    
    // è¼¸å‡ºç”Ÿæˆ
    generateOutput(processResult) {
        console.log("\\nğŸ“¤ éšæ®µ3: è¼¸å‡ºç”Ÿæˆ");
        console.log("-".repeat(40));
        
        console.log("1. æ ¼å¼åŒ–è¼¸å‡ºè³‡æ–™");
        console.log("2. æº–å‚™è¼¸å‡ºåª’ä»‹");
        console.log("3. ç”¢ç”Ÿå ±å‘Šèˆ‡çµ±è¨ˆ");
        console.log("4. å‚³é€çµæœ");
        
        return { status: "completed", output: "final_output" };
    }
    
    // ä¸»åŸ·è¡Œå‡½æ•¸
    async execute() {
        try {
            // 1. è¼¸å…¥è™•ç†
            const inputResult = this.handleInput();
            if (!inputResult.success) {
                throw new Error("è¼¸å…¥è™•ç†å¤±æ•—");
            }
            
            // 2. æ ¸å¿ƒè™•ç†
            const processResult = this.processData();
            
            // 3. è¼¸å‡ºç”Ÿæˆ
            const outputResult = this.generateOutput(processResult);
            
            // é¡¯ç¤ºçµæœ
            console.log("\\n" + "=".repeat(60));
            console.log("ç¨‹å¼åŸ·è¡Œå®Œæˆï¼");
            console.log("=".repeat(60));
            console.log("è™•ç†ç‹€æ…‹:", outputResult.status);
            console.log("è¼¸å‡ºçµæœ:", outputResult.output);
            
            // æ•™å­¸æç¤º
            console.log("\\nğŸ’¡ æ•™å­¸æç¤ºï¼š");
            console.log("1. ä½¿ç”¨ async/await è™•ç†éåŒæ­¥æ“ä½œ");
            console.log("2. åŠ å…¥éŒ¯èª¤è™•ç†èˆ‡ä¾‹å¤–ç‹€æ³");
            console.log("3. è€ƒæ…®ç€è¦½å™¨ç›¸å®¹æ€§");
            console.log("4. å„ªåŒ–æ•ˆèƒ½èˆ‡è¨˜æ†¶é«”ä½¿ç”¨");
            console.log("5. åŠ å…¥å–®å…ƒæ¸¬è©¦");
            
            return outputResult;
        } catch (error) {
            console.error("åŸ·è¡ŒéŒ¯èª¤:", error);
            return { status: "error", message: error.message };
        }
    }
}

// å»ºç«‹å¯¦ä¾‹ä¸¦åŸ·è¡Œ
const solution = new ProjectSolution();
solution.execute();`;
        
        document.getElementById('codeOutput').value = code;
        this.project.code = code;
        this.showStatus('âœ… JavaScriptç¨‹å¼ç¢¼å·²ç”Ÿæˆ', 'codeStatus', 'success');
      }
      
      // è¤‡è£½ç¨‹å¼ç¢¼
      copyCode() {
        const codeArea = document.getElementById('codeOutput');
        if (!codeArea.value.trim()) {
          this.showStatus('è«‹å…ˆç”Ÿæˆç¨‹å¼ç¢¼', 'codeStatus', 'warning');
          return;
        }
        
        codeArea.select();
        document.execCommand('copy');
        
        this.showStatus('âœ… ç¨‹å¼ç¢¼å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿', 'codeStatus', 'success');
      }
      
      // ç”Ÿæˆæ•™å­¸è…³æœ¬
      generateTeachingScript() {
        if (!this.project.ipo || !this.project.code) {
          this.showStatus('è«‹å…ˆå®ŒæˆIPOåˆ†æå’Œç¨‹å¼ç¢¼ç”Ÿæˆ', 'teachStatus', 'warning');
          return;
        }
        
        const script = `ğŸ¬ æ•™å­¸å½±ç‰‡è…³æœ¬ï½œAIè¼”åŠ©ç¨‹å¼è¨­è¨ˆæ•™å­¸

ã€å½±ç‰‡è³‡è¨Šã€‘
â€¢ æ¨™é¡Œ: å¾IPOåˆ†æåˆ°ç¨‹å¼å¯¦ä½œ - ${this.project.name || 'å°ˆæ¡ˆæ•™å­¸'}
â€¢ é•·åº¦: 6-8åˆ†é˜
â€¢ ç›®æ¨™è§€çœ¾: ç¨‹å¼è¨­è¨ˆåˆå­¸è€…
â€¢ æ•™å­¸ç›®æ¨™: ç†è§£IPOåˆ†æèˆ‡ç¨‹å¼å¯¦ä½œçš„å®Œæ•´æµç¨‹

ã€å½±ç‰‡å¤§ç¶±ã€‘

ğŸ“‹ é–‹å ´ä»‹ç´¹ (0:00-0:45)
â€¢ ç•«é¢: å±•ç¤ºæœ€çµ‚ç¨‹å¼åŸ·è¡Œçµæœ
â€¢ æ—ç™½: "å¤§å®¶å¥½ï¼ä»Šå¤©æˆ‘å€‘è¦å­¸ç¿’å¦‚ä½•å°‡IPOåˆ†æè½‰åŒ–ç‚ºå¯¦éš›çš„ç¨‹å¼ç¢¼"
â€¢ é‡é»: å±•ç¤ºå­¸ç¿’æˆæœï¼Œå¼•èµ·å­¸ç¿’å‹•æ©Ÿ

ğŸ” å•é¡Œåˆ†æ (0:45-1:30)
â€¢ ç•«é¢: é¡¯ç¤ºåŸå§‹å•é¡Œ
â€¢ æ—ç™½: "é¦–å…ˆï¼Œæˆ‘å€‘è¦åˆ†æé€™å€‹å•é¡Œçš„IPOçµæ§‹..."
â€¢ äº’å‹•: å¼•å°è§€çœ¾æ€è€ƒå¯èƒ½çš„è§£æ±ºæ–¹æ¡ˆ

ğŸ¤– AIè¼”åŠ©åˆ†æ (1:30-2:45)
â€¢ ç•«é¢: å±•ç¤º${this.models[this.currentModel].name}çš„IPOåˆ†æçµæœ
â€¢ æ—ç™½: "æˆ‘å€‘ä½¿ç”¨AIæ¨¡å‹é€²è¡Œäº†IPOçµæ§‹åŒ–åˆ†æ..."
â€¢ é‡é»: è§£é‡‹Inputã€Processã€Outputçš„å…·é«”å…§å®¹

ğŸ’» ç¨‹å¼å¯¦ä½œè§£æ (2:45-4:30)
â€¢ ç•«é¢: åˆ†å€å±•ç¤ºç”Ÿæˆçš„ç¨‹å¼ç¢¼
â€¢ æ—ç™½: "ç¾åœ¨æˆ‘å€‘ä¾†çœ‹å¦‚ä½•å°‡IPOåˆ†æè½‰åŒ–ç‚ºç¨‹å¼ç¢¼..."
  1. è¼¸å…¥è™•ç†æ¨¡çµ„ (0:45)
  2. æ ¸å¿ƒè™•ç†é‚è¼¯ (1:00)
  3. è¼¸å‡ºç”Ÿæˆæ©Ÿåˆ¶ (0:45)
â€¢ é‡é»: ç¨‹å¼çµæ§‹èˆ‡IPOçš„å°æ‡‰é—œä¿‚

ğŸ¯ åŸ·è¡Œèˆ‡æ¸¬è©¦ (4:30-5:30)
â€¢ ç•«é¢: åŸ·è¡Œç¨‹å¼ä¸¦å±•ç¤ºçµæœ
â€¢ æ—ç™½: "è®“æˆ‘å€‘åŸ·è¡Œç¨‹å¼çœ‹çœ‹çµæœ..."
â€¢ äº’å‹•: ç¤ºç¯„ä¸åŒè¼¸å…¥çš„æ¸¬è©¦æ¡ˆä¾‹
â€¢ æ•™å­¸æç¤º: æ¸¬è©¦çš„é‡è¦æ€§èˆ‡æ–¹æ³•

ğŸ“š æ•™å­¸ç¸½çµ (5:30-6:15)
â€¢ ç•«é¢: æ•´ç†å­¸ç¿’é‡é»çš„æŠ•å½±ç‰‡
â€¢ æ—ç™½: "ä»Šå¤©æˆ‘å€‘å­¸åˆ°äº†..."
  1. IPOåˆ†æçš„æ–¹æ³•èˆ‡æŠ€å·§
  2. å°‡åˆ†æè½‰åŒ–ç‚ºç¨‹å¼ç¢¼çš„éç¨‹
  3. AIè¼”åŠ©ç¨‹å¼é–‹ç™¼çš„å„ªå‹¢

ğŸ”® å»¶ä¼¸å­¸ç¿’ (6:15-7:00)
â€¢ ç•«é¢: å±•ç¤ºé€²éšä¸»é¡Œèˆ‡ç›¸é—œè³‡æº
â€¢ æ—ç™½: "å¦‚æœä½ æƒ³é€²ä¸€æ­¥å­¸ç¿’..."
  1. å˜—è©¦ä¸åŒçš„å•é¡Œé¡å‹
  2. å„ªåŒ–ç¨‹å¼æ•ˆèƒ½èˆ‡åŠŸèƒ½
  3. æ¢ç´¢æ›´å¤šAIè¼”åŠ©å·¥å…·

ã€æ•™å­¸è³‡æºã€‘
â€¢ å®Œæ•´ç¨‹å¼ç¢¼: ${this.project.code.substring(0, 100)}...
â€¢ ç·´ç¿’é¡Œç›®: 3å€‹å»¶ä¼¸ç·´ç¿’å•é¡Œ
â€¢ åƒè€ƒè³‡æ–™: IPOåˆ†ææ–¹æ³•èˆ‡ç¨‹å¼è¨­è¨ˆæ•™å­¸
â€¢ å­¸ç¿’ç¤¾ç¾¤: ç›¸é—œè«–å£‡èˆ‡è¨è«–å€é€£çµ`;

        document.getElementById('teachingScript').value = script;
        this.project.teachingScript = script;
        this.showStatus('âœ… æ•™å­¸è…³æœ¬å·²ç”Ÿæˆ', 'teachStatus', 'success');
      }
      
      // ç”Ÿæˆæ•™å­¸ç°¡å ±
      generateSlides() {
        if (!this.project.ipo) {
          this.showStatus('è«‹å…ˆå®ŒæˆIPOåˆ†æ', 'teachStatus', 'warning');
          return;
        }
        
        const slides = `ğŸ“Š æ•™å­¸ç°¡å ±å¤§ç¶±ï½œIPOåˆ†æèˆ‡ç¨‹å¼å¯¦ä½œ

ã€ç°¡å ±çµæ§‹ã€‘

ğŸ¯ ç¬¬1é : æ¨™é¡Œé 
â€¢ ä¸»æ¨™é¡Œ: å¾IPOåˆ†æåˆ°ç¨‹å¼å¯¦ä½œ
â€¢ å‰¯æ¨™é¡Œ: ${this.project.name || 'å°ˆæ¡ˆæ•™å­¸'}
â€¢ è¬›å¸«: AIæ•™å­¸å¹³å°
â€¢ æ™‚é–“: ${new Date().toLocaleDateString()}

ğŸ§  ç¬¬2é : å­¸ç¿’ç›®æ¨™
â€¢ ç†è§£IPOåˆ†æçš„æ¦‚å¿µèˆ‡æ‡‰ç”¨
â€¢ æŒæ¡å°‡IPOè½‰åŒ–ç‚ºç¨‹å¼ç¢¼çš„æ–¹æ³•
â€¢ å­¸ç¿’ä½¿ç”¨AIè¼”åŠ©ç¨‹å¼è¨­è¨ˆ
â€¢ å»ºç«‹å®Œæ•´çš„å•é¡Œè§£æ±ºæµç¨‹

ğŸ“‹ ç¬¬3é : å•é¡Œå®šç¾©
â€¢ åŸå§‹å•é¡Œ: ${this.project.problem.substring(0, 100)}...
â€¢ å•é¡Œåˆ†æ: æ‹†è§£ç‚ºå¯ç®¡ç†çš„å­å•é¡Œ
â€¢ é æœŸæˆæœ: æ˜ç¢ºçš„è¼¸å‡ºç›®æ¨™

ğŸ” ç¬¬4é : IPOåˆ†æ - Input
â€¢ è³‡æ–™ä¾†æº: ${this.project.ipo.input.substring(0, 50)}...
â€¢ è¼¸å…¥æ ¼å¼: æ–‡å­—ã€æ•¸å­—ã€æª”æ¡ˆç­‰
â€¢ é©—è­‰æ©Ÿåˆ¶: æ ¼å¼æª¢æŸ¥ã€ç¯„åœé©—è­‰
â€¢ éŒ¯èª¤è™•ç†: ç„¡æ•ˆè¼¸å…¥çš„è™•ç†æ–¹å¼

âš™ï¸ ç¬¬5é : IPOåˆ†æ - Process
â€¢ è™•ç†æ­¥é©Ÿ: ${this.project.ipo.process.substring(0, 50)}...
â€¢ æ ¸å¿ƒæ¼”ç®—æ³•: ä¸»è¦è¨ˆç®—é‚è¼¯
â€¢ æ¥­å‹™è¦å‰‡: ç‰¹æ®Šæƒ…æ³è™•ç†
â€¢ æ•ˆèƒ½è€ƒé‡: æ™‚é–“èˆ‡ç©ºé–“è¤‡é›œåº¦

ğŸ“¤ ç¬¬6é : IPOåˆ†æ - Output
â€¢ è¼¸å‡ºå…§å®¹: ${this.project.ipo.output.substring(0, 50)}...
â€¢ å‘ˆç¾æ–¹å¼: æ–‡å­—ã€åœ–è¡¨ã€æª”æ¡ˆ
â€¢ éŒ¯èª¤è¼¸å‡º: è©³ç´°çš„éŒ¯èª¤è¨Šæ¯
â€¢ æ“´å……è¼¸å‡º: æœªä¾†åŠŸèƒ½é ç•™

ğŸ’» ç¬¬7é : ç¨‹å¼å¯¦ä½œ
â€¢ ç¨‹å¼çµæ§‹: è¼¸å…¥â†’è™•ç†â†’è¼¸å‡º
â€¢ é—œéµå‡½æ•¸: ä¸»è¦åŠŸèƒ½çš„å¯¦ä½œ
â€¢ éŒ¯èª¤è™•ç†: try-catchæ©Ÿåˆ¶
â€¢ æ¸¬è©¦æ¡ˆä¾‹: é©—è­‰ç¨‹å¼æ­£ç¢ºæ€§

âœ… ç¬¬8é : ç¸½çµèˆ‡å›é¡§
â€¢ å­¸ç¿’é‡é»: IPOåˆ†ææµç¨‹
â€¢ å¯¦ä½œæŠ€å·§: ç¨‹å¼è¨­è¨ˆæœ€ä½³å¯¦è¸
â€¢ AIè¼”åŠ©: æå‡é–‹ç™¼æ•ˆç‡
â€¢ å»¶ä¼¸å­¸ç¿’: é€²éšä¸»é¡Œæ¨è–¦

ã€æ•™å­¸æç¤ºã€‘
â€¢ æ¯é ç°¡å ±èšç„¦ä¸€å€‹æ ¸å¿ƒæ¦‚å¿µ
â€¢ ä½¿ç”¨è¦–è¦ºåŒ–å…ƒç´ å¢å¼·ç†è§£
â€¢ é ç•™äº’å‹•å•ç­”æ™‚é–“
â€¢ æä¾›å¯¦éš›æ“ä½œç¤ºç¯„`;

        document.getElementById('teachingScript').value = slides;
        this.showStatus('âœ… æ•™å­¸ç°¡å ±å¤§ç¶±å·²ç”Ÿæˆ', 'teachStatus', 'success');
      }
      
      // ç”Ÿæˆæ¸¬é©—é¡Œç›®
      generateQuiz() {
        const quiz = `ğŸ“ å­¸ç¿’æ¸¬é©—é¡Œç›®ï½œIPOåˆ†æèˆ‡ç¨‹å¼è¨­è¨ˆ

ã€é¸æ“‡é¡Œã€‘ï¼ˆæ¯é¡Œ2åˆ†ï¼Œå…±10åˆ†ï¼‰

1. IPOåˆ†æä¸­çš„"I"ä»£è¡¨ä»€éº¼ï¼Ÿ
   A) Information
   B) Input
   C) Interface
   D) Integration

2. ä»¥ä¸‹å“ªå€‹ä¸å±¬æ–¼IPOåˆ†æçš„çµ„æˆéƒ¨åˆ†ï¼Ÿ
   A) Input
   B) Process
   C) Output
   D) Interface

3. åœ¨ç¨‹å¼è¨­è¨ˆä¸­ï¼ŒInputé©—è­‰çš„ä¸»è¦ç›®çš„æ˜¯ä»€éº¼ï¼Ÿ
   A) åŠ å¿«ç¨‹å¼åŸ·è¡Œé€Ÿåº¦
   B) ç¢ºä¿è¼¸å…¥è³‡æ–™çš„æ­£ç¢ºæ€§
   C) ç¾åŒ–ä½¿ç”¨è€…ä»‹é¢
   D) æ¸›å°‘è¨˜æ†¶é«”ä½¿ç”¨

4. Processéšæ®µé€šå¸¸ä¸åŒ…å«ä»¥ä¸‹å“ªé …å·¥ä½œï¼Ÿ
   A) è³‡æ–™é©—è­‰
   B) æ ¸å¿ƒè¨ˆç®—
   C) çµæœè¼¸å‡º
   D) éŒ¯èª¤è™•ç†

5. ä¸€å€‹å¥½çš„Outputè¨­è¨ˆæ‡‰è©²è€ƒæ…®ä»€éº¼ï¼Ÿ
   A) åªè€ƒæ…®ä¸»è¦è¼¸å‡º
   B) è€ƒæ…®ä½¿ç”¨è€…éœ€æ±‚å’Œä½¿ç”¨å ´æ™¯
   C) ç›¡é‡ç°¡åŒ–è¼¸å‡ºæ ¼å¼
   D) é¿å…ä»»ä½•éŒ¯èª¤è¨Šæ¯

ã€ç°¡ç­”é¡Œã€‘ï¼ˆæ¯é¡Œ5åˆ†ï¼Œå…±10åˆ†ï¼‰

1. è«‹ç°¡è¦èªªæ˜IPOåˆ†æåœ¨ç¨‹å¼è¨­è¨ˆä¸­çš„é‡è¦æ€§ã€‚

2. ä»¥è¨ˆç®—å™¨ç¨‹å¼ç‚ºä¾‹ï¼Œæè¿°å…¶IPOçµæ§‹ã€‚

ã€å¯¦ä½œé¡Œã€‘ï¼ˆ20åˆ†ï¼‰

æ ¹æ“šä»¥ä¸‹IPOåˆ†æï¼Œè¨­è¨ˆä¸€å€‹ç°¡å–®çš„Pythonç¨‹å¼ï¼š

Input: 
â€¢ ä½¿ç”¨è€…è¼¸å…¥å…©å€‹æ•¸å­—
â€¢ é¸æ“‡é‹ç®—ç¬¦è™Ÿï¼ˆ+ã€-ã€*ã€/ï¼‰

Process:
1. é©—è­‰è¼¸å…¥æ˜¯å¦ç‚ºæœ‰æ•ˆæ•¸å­—
2. æ ¹æ“šé‹ç®—ç¬¦è™ŸåŸ·è¡Œè¨ˆç®—
3. è™•ç†é™¤ä»¥é›¶ç­‰ç‰¹æ®Šæƒ…æ³

Output:
â€¢ é¡¯ç¤ºè¨ˆç®—çµæœ
â€¢ é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼ˆå¦‚æœæœ‰ï¼‰

ã€è©•åˆ†æ¨™æº–ã€‘
â€¢ ç¨‹å¼æ­£ç¢ºæ€§: 10åˆ†
â€¢ éŒ¯èª¤è™•ç†: 5åˆ†
â€¢ ç¨‹å¼çµæ§‹: 5åˆ†

ã€åƒè€ƒç­”æ¡ˆã€‘ï¼ˆæ•™å¸«ç‰ˆï¼‰

é¸æ“‡é¡Œ: 1.B 2.D 3.B 4.C 5.B

ç°¡ç­”é¡Œ:
1. IPOåˆ†ææœ‰åŠ©æ–¼çµæ§‹åŒ–æ€è€ƒå•é¡Œï¼Œæ˜ç¢ºè¼¸å…¥è¼¸å‡ºï¼Œè¨­è¨ˆåˆç†çš„è™•ç†æµç¨‹ï¼Œæé«˜ç¨‹å¼å“è³ªå’Œå¯ç¶­è­·æ€§ã€‚
2. è¨ˆç®—å™¨ç¨‹å¼çš„IPOï¼š
   Input: å…©å€‹æ•¸å­—å’Œé‹ç®—ç¬¦è™Ÿ
   Process: é©—è­‰è¼¸å…¥ï¼ŒåŸ·è¡Œè¨ˆç®—ï¼Œè™•ç†éŒ¯èª¤
   Output: è¨ˆç®—çµæœæˆ–éŒ¯èª¤è¨Šæ¯`;

        document.getElementById('teachingScript').value = quiz;
        this.showStatus('âœ… æ¸¬é©—é¡Œç›®å·²ç”Ÿæˆ', 'teachStatus', 'success');
      }
      
      // é¡¯ç¤ºæ•™å­¸æŒ‡å—
      showGuide() {
        this.switchTab('teach');
        
        const guide = `ğŸ“š AIæ•™å­¸å¹³å°ä½¿ç”¨æŒ‡å—

ã€å¹³å°ç‰¹è‰²ã€‘
1. ğŸ§  Grok & DeepSeek é›™æ ¸é©…å‹•
   â€¢ Grok: æ”¯æ´æ¨ç†æ¨¡å¼ï¼Œå±•ç¤ºæ€è€ƒéç¨‹
   â€¢ DeepSeek: å…è²»é¡åº¦ï¼Œä¸­æ–‡å„ªåŒ–

2. ğŸ¯ å®Œæ•´æ•™å­¸æµç¨‹
   â€¢ æ¨¡å‹é¸æ“‡ â†’ APIäº’å‹• â†’ IPOåˆ†æ â†’ ç¨‹å¼ç”Ÿæˆ â†’ æ•™å­¸æ‡‰ç”¨

3. ğŸ“Š æ•™å­¸å°ˆç”¨åŠŸèƒ½
   â€¢ é è¨­æ•™å­¸æ¨¡æ¿
   â€¢ çµæ§‹åŒ–IPOåˆ†æ
   â€¢ å¤šèªè¨€ç¨‹å¼ç”Ÿæˆ
   â€¢ æ•™å­¸è³‡æºè‡ªå‹•ç”Ÿæˆ

ã€ä½¿ç”¨æ­¥é©Ÿã€‘
1. é¸æ“‡AIæ¨¡å‹ï¼ˆå»ºè­°å¾Groké–‹å§‹ï¼‰
2. è¨­å®šAPIé‡‘é‘°ï¼ˆæˆ–ä½¿ç”¨æ¼”ç¤ºé‡‘é‘°ï¼‰
3. ä½¿ç”¨æ•™å­¸æ¨¡æ¿å¿«é€Ÿé–‹å§‹
4. é€²è¡ŒAPIäº’å‹•æ¸¬è©¦
5. å®ŒæˆIPOçµæ§‹åˆ†æ
6. ç”Ÿæˆç¨‹å¼ç¢¼
7. è£½ä½œæ•™å­¸è³‡æº

ã€æ•™å­¸å»ºè­°ã€‘
â€¢ åˆå­¸è€…: å¾è¨ˆç®—å™¨æ¨¡æ¿é–‹å§‹ï¼Œç†è§£åŸºæœ¬IPO
â€¢ é€²éšè€…: å˜—è©¦è‡ªå®šç¾©å•é¡Œï¼Œæ¢ç´¢è¤‡é›œç³»çµ±åˆ†æ
â€¢ æ•™å¸«: ä½¿ç”¨ç”Ÿæˆçš„æ•™å­¸è³‡æºé€²è¡Œèª²å ‚æ•™å­¸

ã€å¸¸è¦‹å•é¡Œã€‘
Q: éœ€è¦ä»˜è²»å—ï¼Ÿ
A: DeepSeekæä¾›å…è²»é¡åº¦ï¼ŒGrokéœ€é€éOpenRouterç”³è«‹ã€‚

Q: å¦‚ä½•å–å¾—APIé‡‘é‘°ï¼Ÿ
A: é»æ“Šã€Œè¨­å®šAPIé‡‘é‘°ã€æŒ‰éˆ•ï¼ŒæŸ¥çœ‹è©³ç´°æŒ‡å—ã€‚

Q: æ¨ç†æ¨¡å¼æœ‰ä»€éº¼ç‰¹åˆ¥ï¼Ÿ
A: Grokçš„æ¨ç†æ¨¡å¼æœƒé¡¯ç¤ºæ€è€ƒéç¨‹ï¼Œé©åˆæ•™å­¸å±•ç¤ºã€‚

ã€æŠ€è¡“æ”¯æ´ã€‘
â€¢ å•é¡Œå›å ±: æŸ¥çœ‹ç€è¦½å™¨Console
â€¢ åŠŸèƒ½å»ºè­°: ç´€éŒ„ä½¿ç”¨éç¨‹ä¸­çš„æƒ³æ³•
â€¢ æ•™å­¸å›é¥‹: è¨˜éŒ„æ•™å­¸æ•ˆæœèˆ‡æ”¹é€²å»ºè­°`;

        document.getElementById('teachingScript').value = guide;
        this.showStatus('âœ… æ•™å­¸æŒ‡å—å·²è¼‰å…¥', 'teachStatus', 'success');
      }
      
      // é¡¯ç¤ºç‹€æ…‹è¨Šæ¯
      showStatus(message, elementId, type = 'info') {
        const element = document.getElementById(elementId);
        if (!element) return;
        
        const typeClass = type === 'success' ? 'status-success' :
                         type === 'warning' ? 'status-warning' :
                         type === 'error' ? 'status-error' : 'status-info';
        
        element.innerHTML = `<div class="status ${typeClass}">${message}</div>`;
        
        // 3ç§’å¾Œè‡ªå‹•æ¸…é™¤
        setTimeout(() => {
          if (element.innerHTML.includes(message)) {
            element.innerHTML = '';
          }
        }, 3000);
      }
      
      // æ›´æ–°UI
      updateUI() {
        this.updateAPIKeyDisplay();
        this.updateReasoningToggle();
        this.updateTestResultsDisplay();
      }
    }

    // åˆå§‹åŒ–å¹³å°
    document.addEventListener('DOMContentLoaded', () => {
      const platform = new AIEducationPlatform();
      platform.init();
      window.platform = platform; // æ–¹ä¾¿é™¤éŒ¯
      
      console.log('ğŸš€ AIæ•™å­¸å¹³å°åˆå§‹åŒ–å®Œæˆï¼');
      console.log('ğŸ“š ç‰¹è‰²åŠŸèƒ½:');
      console.log('â€¢ Grok æ¨ç†æ¨¡å¼æ”¯æ´');
      console.log('â€¢ DeepSeek å…è²»APIæ•´åˆ');
      console.log('â€¢ å®Œæ•´æ•™å­¸æµç¨‹è¨­è¨ˆ');
      console.log('â€¢ å¤šèªè¨€ç¨‹å¼ç¢¼ç”Ÿæˆ');
    });
  </script>
</body>
</html>